function initAppDownloadLinks(e,t,n,o){$(e).on("keyup",function(){var e=$(this).val();isNaN(e)&&$(this).val(e.slice(0,e.length-1))}),$(e).parent().find(".js-send-sms").click(function(){var a=$(e),i=a.val();if(isNaN(i)||10!=$(e).val().length)return a.parent().addClass("error"),!1;var r=Number(getLocalStorage(n))||0;if(r>4)return showAlert("You have crossed SMS limit. Please try after some time.","error"),!1;setLocalStorage(n,++r,1);$.ajax({url:TB.APIPrefix+"v2/app/link",type:"POST",data:{mobile:"91"+i,app:t},dataType:"json"}).done(function(e){e.success?(a.parent().removeClass("error").addClass("success"),showAlert("SMS with link to download "+o+" app has been sent to "+i,"success","small",1e4)):a.parent().removeClass("success").addClass("error")})})}function convertHexColor(e,t){var e=e.replace("#",""),n=parseInt(e.substring(0,2),16),o=parseInt(e.substring(2,4),16),a=parseInt(e.substring(4,6),16),i="rgba("+n+","+o+","+a+","+t/100+")";return i}function hasHorizontalScrollBar(e){var t=e.scrollWidth,n=e.offsetWidth;return t>n}function showAlert(e,t,n,o){t||(t="error"),n||(n="small");var a="error"==t?"alert-danger":"warning"==t?"alert-warning":"alert-success",i="small"==n?"size-sm":"size-lg";$(".js-notify-panel-box").prepend('<div class="alert alert-dismissible '+i+" "+a+' "><button type="button" class="close"><i class="tb-icon tb-clear"></i></button>'+e+"</div>");var r=$(".js-notify-panel-box .alert").eq(0);$(".js-notify-panel-box .alert .close").click(function(){$(this).closest(".alert").slideUp(200,function(){$(this).remove()})}),"number"==typeof o&&setTimeout(function(){r.slideUp(200,function(){$(this).remove()})},o)}function initFAQsCollapse(){var e=$(".faq-box .question");e.on("click",function(){var t=$(this).siblings(".answer");e.removeClass("active"),t.hasClass("active")?t.removeClass("active").slideUp():($(this).addClass("active"),$(".faq-box .answer").removeClass("active").slideUp(),t.addClass("active").slideDown())})}function uiEventsHelper(){$(".js-prevent-default").on("click",function(e){e.preventDefault()}),$(".js-stop-propagation").on("click",function(e){e.stopPropagation()})}function initScrollToAnchorHref(){$('a[href*="#"]:not([href="#"]), .js-scroll-to').not("a[data-toggle]").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash),t=$(this).attr("data-offset-top");t="undefined"!=typeof t?t:0,e=e.length?e:$("[name="+this.hash.slice(1)+"]");var n=e.offset().top-(getAnnBannerHeight()+52)-t;if(e.length)return $("html,body").animate({scrollTop:n},500),!1}})}function getAnnBannerHeight(){return($("#js-scholarship-banner").outerHeight()||0)+($(".js-app-promotion-banner").outerHeight()||0)}function identifyUserForTBAnalytics(){var e="we_ls";return $("#sid")&&""==$("#sid").val()?(setLocalStorage(e,"sent",-1),TBAnalytics.hooks.logout(),!0):void(""==getLocalStorage(e)&&(setLocalStorage(e,"sent",.5),TBAnalytics.hooks.login($("#sid").val()),TBAnalytics.hooks.setUserAttribute({name:$("#stuname").val()||"",email:$("#email").val()||"",mobile:$("#mobile").val()||"",dob:"",createdOn:$("#created_on").val()||""})))}function initTourPopover(e,t,n,o,a){if(!e.length)return!1;if(""!==getLocalStorage(t))return!1;e.addClass("tour-visible"),e.append('<div class="tb-popover '+n+'"><button class="btn cancel-po"><i class="tb-icon tb-clear"></i></button><div class="po-content text-left">'+o+"</div></div>");var i=e.find(".tb-popover .cancel-po");i.on("click",function(){e.removeClass("tour-visible"),$(this).parents(".tb-popover").remove(),setLocalStorage(t,"viewed",a)})}function shallShowAppBanner(){var e=getLocalStorage("showAppPromotionBanner");return""==e}function hideAppBanner(e){e.remove(),setLocalStorage("showAppPromotionBanner",!1,10),$(document).trigger("closed.tb.app-promotion-banner")}function initAppPromotionOnAndroid(e,t){return!!e.length&&(shallShowAppBanner()&&/Android/i.test(navigator.userAgent)&&!IS_REMOVE_APP_BANNER?(e.show(function(){$(document).trigger("shown.tb.app-promotion-banner")}),void t.on("click",function(){hideAppBanner(e),setHeaderMarginTop()})):(hideAppBanner(e),setHeaderMarginTop(),!1))}function initPromoModal(e){var t="tb_promo_modal",n=getLocalStorage(t);""==n?e.addClass("in"):e.removeClass("in"),e.find(".js-close-ad").on("click",function(){e.removeClass("in"),setLocalStorage(t,!0,1)})}function padZero(e){return e<10?"0"+e:e}function scrollToSpecificElement(e,t,n,o){var a=$(e),i=t||0,r=n||400,s=o||"linear";$("html, body").animate({scrollTop:a.offset().top-i},r,s)}function scrollToLoc(e){e=e||0;var t=getURLParameterValue("loc");if(""==t)return!1;var n;t="#"+t,$(t).length?(clearTimeout(n),scrollToSpecificElement(t,e+getAnnBannerHeight()+52)):n=setTimeout(function(){scrollToLoc(e)},1e3)}function checkMSIEVersion(){var e=window.navigator.userAgent,t=e.indexOf("MSIE");if(t>0||navigator.userAgent.match(/Trident.*rv\:11\./)){parseInt(e.substring(t+5,e.indexOf(".",t)));alert("For best user experience Testbook recommends using Google Chrome, Firefox or Safari. ")}return!1}function setLocalStorage(e,t,n){if(!localStorage)return setCookie(e,t,n);var o=function(e,t){return e instanceof Date||(e=new Date),new Date(e.getTime()+1e3*t)},a=o(new Date,24*n*3600).getTime();return t=t+"_"+a,localStorage&&localStorage.setItem(e,t)}function getLocalStorage(e,t){if(!localStorage)return getCookie(e);var n=function(){for(var e=function(e){return!isNaN(new Date(e).getTime())},t=localStorage&&Object.keys(localStorage),n="",o=(new Date).getTime(),a=0;a<t.length;a++)n=getLocalStorage(t[a],"validity"),n=e(Number(n))?new Date(Number(n)).getTime():"",n&&n<=o&&removeLocalStorage(t[a])};"validity"!=t&&n();var o=localStorage&&localStorage.getItem(e)||"";return"validity"==t?o.substring(o.lastIndexOf("_")+1):o.substring(0,o.lastIndexOf("_"))||""}function removeLocalStorage(e){return localStorage?void localStorage.removeItem(e):setCookie(e,"",-1)}function setCookie(e,t,n){if("undefined"===n)document.cookie=e+"="+t;else{var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var a="expires="+o.toUTCString()+"; path=/";document.cookie=e+"="+t+"; "+a}}function getCookie(e){for(var t,n,o=document.cookie.split(";"),a=0;a<o.length;a++)if(t=o[a],n=o[a].split("="),n[0].trim()==e)return n[1]&&n[1].trim()||"";return""}function forceSessionRefresh(e){setCookie("tb_refresh",1,1),e||(removeLocalStorage(TB.KEY_STUD_INFO),removeLocalStorage(TB.KEY_SID),getCookie(TB_TOKEN)&&TB.RepopulateStudentInStorage())}function escapeTilde(e){return e.split("~").join("\\~")}function showLoader(e){e||(e="Loading. Please Wait.");var t=$("#showLoading");t.length||$("body").append('<div id="showLoading" class="modal" style="display:none;background-color:rgba(26,26,26,0.9);z-index: 1060;"><div class="modal-dialog"><div class="modal-content" style="max-width: 300px;margin: auto;"><div class="modal-body text-center"><img style="height: 90px;" src="//testbook.com/assets/img/utility/loader.gif"><h4 class="text-center space font-weight-normal">Loading...</h4></div></div></div></div></div>'),$("#showLoading h4").html(e),$("#showLoading").show()}function hideLoader(){$("#showLoading").hide()}function showError(e){var t=$("#showError");t.length||($("body").append('<div id="showError" class="modal" style="display:none;background-color:rgba(26,26,26,0.9);"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><h4 class="text-center">Error</h4><p class="js-msg"></p></div><div class="modal-footer"><button type="button" class="btn js-close mar-t0 btn-primary">Ok</button></div></div></div></div>'),$("#showError .js-close").click(hideError)),$("#showError .js-msg").html(e),$("#showError ").fadeIn()}function hideError(){$("#showError").hide()}function injectTBSignupIframe(){return'<iframe name="onBoardingIframeName" id="onBoardingIframe" class="w-100 '+ONBOARDING_IFRAME_JS_CLASS_NAME+'" src="" style="position: relative;" frameborder="0"></iframe>'}function delayExecution(e,t){delayExPromise&&clearTimeout(delayExPromise),delayExPromise=window.setTimeout(e,t)}function openOnBoardingModal(){delayExecution(function(){$(".js-inject-iframe-loader").removeClass("hidden"),$("#tbSignUpModal").modal("show")},0)}function onBoardingModalClose(){$("."+ONBOARDING_IFRAME_JS_CLASS_NAME).attr("src","about:blank")}function setIframeUrl(e){$("."+ONBOARDING_IFRAME_JS_CLASS_NAME).attr("src",e),$("."+ONBOARDING_IFRAME_JS_CLASS_NAME).on("load",function(){$(".js-inject-iframe-loader")&&$(".js-inject-iframe-loader").addClass("hidden")})}function downloadJSAtOnload(){if("no"!=$("#loadDefer").val()){var e=void 0==$("#CDNURL").val()?"":$("#CDNURL").val();downloadJSAtOnloadHelper(e+"/js/defer.b0a0f827ae780e5363ac4a8fa45a8f26.js");$("#sid").val()}}function downloadJSAtOnloadHelper(e){var t=document.createElement("script");t.src=e,document.body.appendChild(t)}function initLazyloadImages(){"function"==typeof LazyLoad&&new LazyLoad({elements_selector:".js-lazy-load-img",threshold:400,skip_invisible:!1})}function initServiceWorker(){"serviceWorker"in navigator&&navigator.serviceWorker.register(window.location.origin+"/service-worker.js").then(function(e){console.log("Service Worker registration successful with scope: ",e.scope)})["catch"](function(e){console.log("Service Worker registration failed: ",e)})}function getURLParameterValue(e){if(location.search){for(var t=decodeURI(location.search).substring(1).split("&"),n=0;n<t.length;n++){for(var o=t[n].split("="),a="",i=1;i<o.length;i++)a+=o[i],i<o.length-1&&(a+="=");if(o[0]==e)return a}return""}return""}function removeURLParameter(e,t){var n=e.split("?");if(n.length>=2){for(var o=encodeURIComponent(t)+"=",a=n[1].split(/[&;]/g),i=a.length;i-- >0;)a[i].lastIndexOf(o,0)!==-1&&a.splice(i,1);return e=n[0]+(a.length>0?"?"+a.join("&"):"")}return e}function isLoggedIn(){var e=getCookie(TB_TOKEN);return Boolean(e)}function constructOnBoardingUrl(e,t){e=e||{};var n="/login?tile="+(t?"login":"signup")+"&modal=true&base_url="+encodeURIComponent(window.location.pathname);for(var o in e)e.hasOwnProperty(o)&&(n+="&"+o+"="+encodeURIComponent(e[o]));return n}function openSignUpSignInModal(e,t){if(isLoggedIn())$(document).trigger("logged-in",[{key:e.redirect_url||""}]);else{var n=constructOnBoardingUrl(e,t);setIframeUrl(n),openOnBoardingModal()}}function openIframeInModal(e,t){t&&(e+=e.split("?").length>1?"&redirect_url="+t:"?redirect_url="+t),setIframeUrl(e),openOnBoardingModal()}function initOnboardingModalEvents(){$(".js-inject-iframe")&&($(".js-tb-on-boarding")&&$(".js-tb-on-boarding").length||$(".js-inject-iframe").append(injectTBSignupIframe())),$("."+SIGN_IN_ANCHOR_CLASS_NAME).click(function(e){var t=$("."+SIGN_IN_ANCHOR_CLASS_NAME).attr(ATTR_RED_URL),n={};return n[REDIRECT_URL_KEY]=t,openSignUpSignInModal(n,!0),!1}),$("."+SIGN_UP_ANCHOR_CLASS_NAME).click(function(e){var t=$("."+SIGN_UP_ANCHOR_CLASS_NAME).attr(ATTR_RED_URL),n={};return n[REDIRECT_URL_KEY]=t,openSignUpSignInModal(n,!1),!1}),$("."+EXTRA_ANCHOR_CLASS_NAME).click(function(e){var t=$(this),n=t.attr(ATTR_RED_URL),o=t.attr("href");return openIframeInModal(o,n),!1}),$(document).bind("logged-in",function(e,t){t.key?window.location.href=t.key:window.location.reload()})}function setHeaderMarginTop(){var e=$("#js-scholarship-banner").innerHeight()||0,t=$(".js-app-promotion-banner").innerHeight()||0,n=e||t,o=Math.floor(n);$(".js-banner-height-offset, .js-tb-container").css("margin-top",o)}function makeVideosResponsive(){for(var e=document.getElementsByTagName("iframe"),t=0;t<e.length;t++){var n=e[t],o=/youtube.com|player.vimeo.com/;if(n.src.search(o)>0){var a=n.height/n.width*100;n.style.position="absolute",n.style.top="0",n.style.left="0",n.width="100%",n.height="100%";var i=document.createElement("div");i.className="fluid-vids",i.style.width="100%",i.style.position="relative",i.style.paddingTop=a+"%";var r=n.parentNode;r.insertBefore(i,n),i.appendChild(n)}}}function pad(e,t){for(var n="";n.length<t-1&&e<Math.pow(10,t-n.length-1);)n+="0";return n+e.toString()}function ISODateString(e){e=e?e:new Date;var t=e.getTimezoneOffset();return pad(e.getFullYear(),4)+"-"+pad(e.getMonth()+1,2)+"-"+pad(e.getDate(),2)+"T"+pad(e.getHours(),2)+":"+pad(e.getMinutes(),2)+":"+pad(e.getSeconds(),2)+(t>0?"-":"+")+pad(Math.floor(Math.abs(t)/60),2)+":"+pad(Math.abs(t)%60,2)}function getHoursDiff(e,t){var n=new Date(e).getTime(),o=new Date(t).getTime(),a=36e5;return e&&t?Math.ceil((n-o)/a):0}function getDaysDiff(e,t){e=setHoursToZero(e),t=setHoursToZero(t);var n=e.getTime()-t.getTime();return n/MS_IN_ONE_DAY}function isServerTimeNull(e){return e.indexOf("0001-01-01 00:00:00")==-1}function getDuplicateObject(e){if(!e||"object"!=typeof e)return e;if(e instanceof Date)return new Date(e);var t=new e.constructor;for(var n in e)e.hasOwnProperty(n)&&(t[n]=this.getDuplicateObject(e[n]));return t}function getRoundedFloat(e,t){t||0==t||(t=2);var n=Math.pow(10,t);return Math.round(e*n)/n||0}function validateArr(e){return e&&e.length?e:[]}function isElementInViewport(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function scrollToBottom(e,t){void 0===t&&(t=1e3),void 0===e?$("html, body").animate({scrollTop:$(document).height()-$(window).height()},t,"swing"):$(e).animate({scrollTop:document.querySelector(e).scrollHeight-document.querySelector(e).offsetHeight},t,"swing")}function scrollToTop(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=0),void 0===e&&(e="html, body"),$(e).animate({scrollTop:0+n},t,"swing")}function hexToRgb(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,o){return t+t+n+n+o+o});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}function getCustomMap(e,t,n,o){var a={};e=e?e:[];for(var i=0;i<e.length;i++)if(e[i][t]){var r="string"==typeof e[i][t]?e[i][t].toLowerCase():e[i][t];a[r]=o?e[i]:e[i][n]}return a}function postNetworkCallHelper(e,t,n,o){$.ajax({url:e,type:"POST",data:t,dataType:"json",success:function(e){e&&e.success?n(e):(o&&o(e),console.log(e))},error:function(e){console.log(e)}})}function changeCurrentCourse(e,t,n){var o=TB.APIPrefix+"v2/students/me/currentcourse",a={auth_code:e,course:t};postNetworkCallHelper(o,a,n)}function enrollIntoCourse(e,t,n){var o=TB.APIPrefix+"v2/students/me/enroll",a={auth_code:e,courses:t};postNetworkCallHelper(o,a,n)}function debounce(e,t,n){var o;return function(){var a=this,i=arguments,r=function(){o=null,n||e.apply(a,i)},s=n&&!o;clearTimeout(o),o=setTimeout(r,t),s&&e.apply(a,i)}}function throttle(e,t,n){var o,a,i,r=null,s=0;n||(n={});var c=function(){s=n.leading===!1?0:Date.now(),r=null,i=e.apply(o,a),r||(o=a=null)};return function(){var l=Date.now();s||n.leading!==!1||(s=l);var u=t-(l-s);return o=this,a=arguments,u<=0||u>t?(r&&(clearTimeout(r),r=null),s=l,i=e.apply(o,a),r||(o=a=null)):r||n.trailing===!1||(r=setTimeout(c,u)),i}}function callSetWebNotifications(){"webengage"in window?(clearTimeout(notificationWebengageTimeout),setWebNotifications()):notificationAttemptCount<5&&(notificationAttemptCount+=1,notificationWebengageTimeout=setTimeout(function(){callSetWebNotifications()},1e4))}function setWebNotifications(){var e="isWebNotificationAllowed",t=getCookie(e),n=$("#webNotificationAlert");if("Notification"in window&&!USERAGENT.isSafari){var o=Notification.permission;if("denied"===o||"granted"===o)return!1;t||"default"!==o||(n.modal(),n.find(".js-deny-permission").on("click",function(){setCookie(e,!0),n.modal("hide")}),n.find(".js-allow-permission").on("click",function(){setCookie(e,!0);var t=TBAnalytics.gtm.events.webNotification;t.pagePath=window.location.pathname,TBAnalytics.gtm.pushToDataLayer(t),n.modal("hide")}))}else console.log("This browser does not support desktop notification")}var TB=TB||{};TB.taskQueue=new Array,TB.APIPrefix=document.getElementById("go-api-server")&&document.getElementById("go-api-server").value;var ON_BOARDING_MODAL_ID="#onBoardingIframe",PURCHASE_LOCK={hashKey:-1},COURSE_IDS_KEY="courseIds",REDIRECT_URL_KEY="redirect_url",TB_TOKEN="tb_token",SIGN_UP_ANCHOR_CLASS_NAME="js-tb-signup-anchor",SIGN_IN_ANCHOR_CLASS_NAME="js-tb-signin-anchor",EXTRA_ANCHOR_CLASS_NAME="js-tb-extra-anchor",ATTR_RED_URL="data-redirect-url",ONBOARDING_IFRAME_JS_CLASS_NAME="js-tb-on-boarding",REF_DATE_STR="1970/1/1",isMobile=!1,dataLayer=dataLayer||[],MS_IN_ONE_DAY=864e5,IS_REMOVE_APP_BANNER=document.getElementById("removeAppBanner")&&Number(document.getElementById("removeAppBanner").value)||!1,IS_REMOVE_LT_BANNER=document.getElementById("removeLTBanner")&&Number(document.getElementById("removeLTBanner").value)||!1,MOBILE_SUCCESSFULLY_VERIFIED="MOBILE_VERIFIED_SUCCESSFULLY",LANG_ENGLISH="en",LANG_HINDI="hn",TXN_ID="tb_txnid",IS_INVOICE_GENERATED=!1,ID_GK_AND_CA="557af9de0ea5ce31f052918b";TB.INITIATE_PAYMENT_VALUES={PRICING_POPUP:"pricingPopup",PRODUCT_PAGES:"productPages"},TB.INITIATE_PAYMENT_SOURCE="",TB.isOpenInModal=$("#isOpenInModal")&&$("#isOpenInModal").val()||!1;var screenSize={xs:480,sm:768,md:992,lg:1200},$tbContainer=$(".js-tb-container"),USERAGENT={isSafari:!1},enumTBEvents={annBannerAll:"loaded.tb.announcement-banner closed.tb.announcement-banner closed.tb.app-promotion-banner shown.tb.app-promotion-banner toggled.tb.announcement-banner"},LS={currentQuizInfo:{key:"currentQuizInfo",value:{servesOn:"",course:"",exam:[""],category:"",page:""}}};!function(){function e(e){var t=e.attr("rel");$(".js-tab-apps button").removeClass("active"),$('.js-tab-apps button[rel="'+t+'"]').addClass("active"),$(".js-app-content ").fadeOut(200),$('.js-app-content[data-active-app="'+t+'"]').delay(200).fadeIn(200)}/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(isMobile=!0,$("body").addClass("is-mobile")),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&(USERAGENT.isSafari=!0);var t=$(".collapse-toggle > .collapse-arrow");if(t.each(function(e,t){var n=$(t);n.click(function(){n.parent().toggleClass("open")})}),$(document).on("click",".tb-accordion .tba-item .head",function(){var e=$(this),t=e.parent(),n=t.find(".content"),o=n.outerHeight();n.css({"margin-top":-o}),t.hasClass("selected")?n.css({"margin-top":-o}):n.css({"margin-top":0}),t.toggleClass("selected")}),$(".tab-content-tb").hide(),$(document).on("click",".tab-head > li",function(){var e=$(this),t=e.attr("rel"),n=$("#"+t);n.parent().children(".tab-content-tb").hide(),n.fadeIn(),e.parent().children().removeClass("active"),e.addClass("active")}),$(".tab-head>li.active").click(),$(".accordion > li:eq(0) a").addClass("active").next().slideDown(),$(document).on("click",".accordion-head",function(e){var t=$(this).closest("li").find(".accordion-content");$(this).closest(".accordion").find(".accordion-content").not(t).slideUp(),$(this).hasClass("active")?$(this).removeClass("active"):($(this).closest(".accordion").find(".accordion-head.active").removeClass("active"),$(this).addClass("active")),t.stop(!1,!0).slideToggle(),e.preventDefault()}),$("body").hasClass("is-mobile")){var n=$('.js-password-state[data-toggle="password-type"]');n.each(function(e,t){var n=$(t);n.toggleClass("watching"),n.siblings("input").attr("type",function(e,t){return"text"==t?"password":"text"})})}$(document).on("click",'.js-password-state[data-toggle="password-type"]',function(){$(this).toggleClass("watching"),$(this).siblings("input").attr("type",function(e,t){return"text"==t?"password":"text"})});var o=setInterval(function(){if($(".js-tab-apps").length>1){var t=$(".js-tab-apps .active").next();$(".js-tab-apps button:last-child").hasClass("active")&&(t=$(".js-tab-apps button:first-child")),e(t)}},6e3);$(".js-tab-apps button").click(function(){e($(this)),window.clearInterval(o)}),$("#mobileForAppLink, #mobileForCaAppLink").focus(function(){window.clearInterval(o)}),initAppDownloadLinks("#mobileForAppLink","tb","tb_app_link_count","Testbook"),initAppDownloadLinks("#mobileForCaAppLink","ca","ca_app_link_count","Current Affairs")}();var returnValuesArrFromObj=function(e){var t=[];for(var n in e)t.push(e[n]);return t},Utils={slideToggle:function(e){$("#"+e).slideToggle()},toggle:function(e){$("#"+e).toggle()},acceptOnlyNumber:function(e){$("#"+e).on("keyup",function(){var e=$(this),t=e.val();isNaN(t)&&e.val(t.slice(0,t.length-1))})},limitOnLength:function(e,t){$("#"+e).on("keyup",function(){var e=$(this),t=e.val();t.length>10&&e.val(t.slice(0,10))})}};TB.hasScrollBar=function(e,t){return"vertical"==t?e.get(0).scrollHeight>e.innerHeight():"horizontal"==t&&e.get(0).scrollWidth>e.innerWidth()},$(document).ready(function(){var e=$("#sid")&&$("#sid").val()||-1;alterHeader(),setHeaderMarginTop(),makeVideosResponsive(),initScrollToAnchorHref(),initTourPopover($("#headerCourseSelector").parent(),"highlightCourseDropdown"+e,"bottom","Click to change your course",365),initPromoModal($("#js-promo-modal")),initAppPromotionOnAndroid($(".js-app-promotion-banner"),$(".js-app-promotion-banner .js-close-app-promotion")),identifyUserForTBAnalytics(),initOnboardingModalEvents(),uiEventsHelper(),initFAQsCollapse()}),checkMSIEVersion();var delayExPromise;$(window).on("load",function(){downloadJSAtOnload(),initLazyloadImages(),initServiceWorker()}),TB.taskQueuePop=function(e){try{e()}catch(t){console.log("Unable to run from task q "),console.log(t)}},TB.taskQueuePush=function(e,t){"done"==TB.taskQueue[t]?TB.taskQueuePop(e):(void 0==TB.taskQueue[t]&&(TB.taskQueue[t]=new Array),TB.taskQueue[t].push(e))},TB.taskQueueProcess=function(e){if(void 0!=TB.taskQueue[e])for(var t;t=TB.taskQueue[e].shift();)TB.taskQueuePop(t);TB.taskQueue[e]="done"},TB.API_DEFAULT_ERROR_MESSAGE="Unable to reach Testbook servers. Please make sure you are connected to the internet and try again. It might be a temporary network problem so please wait and retry, if you continue to face this issue mail us at support@testbook.com",function(e,t,n){var o,a=e.getElementsByTagName(t)[0];e.getElementById(n)||(o=e.createElement(t),o.id=n,o.src="//connect.facebook.net/en_US/sdk.js",a.parentNode.insertBefore(o,a))}(document,"script","facebook-jssdk"),window.fbAsyncInit=function(){FB.init({appId:"637142706346206",cookie:!0,xfbml:!0,version:"v2.8"}),TB.taskQueueProcess("FB")};var TBAnalytics={hooks:{event:function(e,t,n,o){TBAnalytics.ga.event(e,t,n,o)},testPageView:function(e,t,n,o,a){TBAnalytics.cio.event("test",{tid:e,time:Math.floor(Date.now()/1e3)}),TBAnalytics.ga.pageView(o,a),TBAnalytics.mixpanel.event("Test Started",{course:t,title:n})},testPageNavEvent:function(e,t,n,o,a){TBAnalytics.ga.event("button","click","Test "+e+" navigation",1)},testSubmitted:function(e,t,n,o){TBAnalytics.ga.event("button","click","Test "+e+"submit",1),TBAnalytics.mixpanel.event("Test Submitted",{course:t,title:n,responses:o}),TBAnalytics.mixpanel.increment("Questions",o)},testPaused:function(e,t,n,o){TBAnalytics.ga.event("button","click","Test "+e+"pause",1)},testResumed:function(e,t,n,o){TBAnalytics.ga.event("button","click","Test "+e+"resume",1)},testAborted:function(e,t,n,o){TBAnalytics.mixpanel.event("Test Aborted",{course:t,title:n,responses:o})},testTimeOver:function(e,t,n,o){TBAnalytics.ga.event("button","click","Test "+e+"time over",1),TBAnalytics.mixpanel.event("Test Submitted",{course:t,title:n,responses:o}),TBAnalytics.mixpanel.increment("Questions",o)},analysisPageView:function(e,t,n){TBAnalytics.cio.event("analysis",{tid:e,time:Math.floor(Date.now()/1e3)})},solutionsPageView:function(e,t,n,o,a){TBAnalytics.cio.event("solution",{tid:e,time:Math.floor(Date.now()/1e3)}),TBAnalytics.ga.pageView(o,a)},solutionsPageNavEvent:function(e,t,n){TBAnalytics.ga.event("button","click","Solutions "+e+" navigation",1)},feedbackPageView:function(e,t,n){TBAnalytics.ga.pageView(t,n)},login:function(e){TBAnalytics.webengage.login(e)},logout:function(){TBAnalytics.webengage.logout()},setUserAttribute:function(e){TBAnalytics.webengage.setUserAttribute(e)},addToCart:function(e){TBAnalytics.ga.addToCart(e)},removeFromCart:function(e){TBAnalytics.ga.removeFromCart(e)},checkoutStart:function(){TBAnalytics.ga.checkoutStart()},checkoutEnd:function(e,t,n){TBAnalytics.ga.checkoutEnd(e,t,n)}},webengage:{taskKey:"webengage",preProcess:function(){},postProcess:function(e){TB.taskQueuePush(e,this.taskKey)},event:function(e,t){var n=function(){TBAnalytics.webengage.preProcess()};this.postProcess(n)},login:function(e){var t=function(){TBAnalytics.webengage.preProcess(),webengage.user.identify(e)};this.postProcess(t)},logout:function(){var e=function(){TBAnalytics.webengage.preProcess(),webengage.user.logout()};this.postProcess(e)},setUserAttribute:function(e){var t=function(){TBAnalytics.webengage.preProcess(),e&&e.name&&webengage.user.setAttribute("we_first_name",e.name),e&&e.email&&webengage.user.setAttribute("we_email",e.email),e&&e.dob&&webengage.user.setAttribute("we_birth_date",e.dob),e&&e.mobile&&webengage.user.setAttribute("we_phone",e.mobile),e&&e.createdOn&&webengage.user.setAttribute("created_on",e.createdOn)};this.postProcess(t)}},mixpanel:{taskKey:"mixpanel",preProcess:function(){},postProcess:function(e){TB.taskQueuePush(e,this.taskKey)},event:function(e,t){var n=function(){TBAnalytics.mixpanel.preProcess(),mixpanel.track(e,t)};this.postProcess(n)},increment:function(e,t){var n=function(){TBAnalytics.mixpanel.preProcess(),mixpanel.people.increment(e,t)};this.postProcess(n)},append:function(e){var t=function(){TBAnalytics.mixpanel.preProcess(),mixpanel.people.append(e)};this.postProcess(t)},union:function(e){var t=function(){TBAnalytics.mixpanel.preProcess(),mixpanel.people.union(e)};this.postProcess(t)},paid:function(e){var t=function(){TBAnalytics.mixpanel.preProcess(),mixpanel.people.track_charge(e,{$time:new Date})};this.postProcess(t)}},ga:{taskKey:"GA",preProcess:function(){ga("require","ec")},postProcess:function(e){TB.taskQueuePush(e,this.taskKey)},event:function(e,t,n,o){var a=function(){ga("send","event",e,t,n,o)};this.postProcess(a)},pageView:function(e,t){var n=function(){ga("set",{page:e,title:t}),ga("send","pageview")};this.postProcess(n)},addToCart:function(e){var t=function(){TBAnalytics.ga.preProcess(),ga("ec:addProduct",{id:e.pid,name:e.title,price:e.cost,category:$("#cur-course-title").val(),quantity:1}),ga("ec:setAction","add"),ga("send","event","button","click","addToCart"),console.log("en. ecomm add")};this.postProcess(t)},removeFromCart:function(e){var t=function(){TBAnalytics.ga.preProcess(),ga("ec:addProduct",{id:e.pid,name:e.title,price:e.cost,category:e.course,quantity:1}),ga("ec:setAction","remove"),ga("send","event","button","click","removeFromCart"),console.log("en. ecomm remove")};this.postProcess(t)},checkoutStart:function(){var e=function(){TBAnalytics.ga.preProcess(),ga("ec:setAction","checkout",{step:1,option:"Payu"}),ga("send","event","ecommerce","checkout","checkout1"),console.log("en. ecomm chckout1")};this.postProcess(e)},checkoutEnd:function(e,t,n){var o=function(){TBAnalytics.ga.preProcess(),ga("ec:setAction","purchase",{id:e,affiliation:"",revenue:t,tax:"0",shipping:"0",coupon:n}),ga("send","event","ecommerce","transaction","complete"),ga("ec:setAction","checkout",{step:2}),ga("send","event","ecommerce","checkout","checkout2"),console.log("en. ecomm chckout2")};this.postProcess(o)}},cio:{taskKey:"CIO",preProcess:function(){},postProcess:function(e){TB.taskQueuePush(e,this.taskKey)},event:function(e,t){var n=function(){TBAnalytics.cio.preProcess(),_cio.track(e,t)};this.postProcess(n)}},gtm:{events:{pincode:{event:"pincode_updated",pin:""},category:{event:"category_updated",category:""},interestedExams:{event:"interested_exams_updated",exams:[]},degrees:{event:"degrees_updated",degrees:[]},dob:{event:"dob_updated",birthday:""},deactivate:{event:"account_deactivated"},onboardingFlowStages:{onLoginSignup:{event:"login_or_signup_modal_1",pageurl:""},onOTP:{event:"otp_modal_2"},onEnrollment:{event:"enrollment_modal_3",isOTPVerified:!1},onCollectInfo:{event:"collect_info_modal_4"},onProcessComplete:{event:"onboarding_success_5",success:!1,userInfo:{}}},webNotification:{event:"show_webpush_prompt",pagePath:""},signOut:{event:"signOut"},pageReady:{event:"page_ready"},testStart:{event:"test_start",testName:"",testId:"",testCourse:"",isLive:!1,isQuiz:!1,lang:"","interface":"",specificExams:""},testSubmitManual:{event:"test_submit_manual"},testSubmitAuto:{event:"test_submit_auto"},resumedChapterPractice:{event:"resumed_a_chapter",chapterID:"",chapterName:"",course:"",subject:"",language:""},testBulletinPlayed:{testID:"",event:"c_testBulletinVideo_played"},testBulletinClosed:{duration:0,testID:"",event:"c_testBulletinVideo_closed"},quizStarted:{event:"quiz_start",info:{testID:"",testName:"",course:"",subject:"",exam:"",page:"",isLoggedIn:"",servesOnDate:"",language:""}},quizSubmitted:{event:"quiz_submit",info:{testID:"",testName:"",course:"",subject:"",exam:"",page:"",isLoggedIn:"",servesOnDate:"",method:""}},quizAnalysis:{event:"quiz_analysis",info:{course:"",testID:"",testName:"",subject:"",exam:"",servesOnDate:"",language:"",percentile:""}},studentDocUpdated:{event:"studentDocUpdated"},answerKeyStuInfo:{event:"answerKeyStuInfo",info:{pinCode:""}}},pushToDataLayer:function(e){dataLayer.push(e)}}},alterHeader=throttle(function(){var e=($(".tb-landing-banner").innerHeight()||0)-($(".banner-stats").innerHeight()||0)-52,t=$(window).scrollTop();t>=e?$(".tb-main-header").removeClass("on-banner"):$(".tb-main-header").addClass("on-banner")},100),prettyDate=function(e){return e=e?new Date(e):new Date,padZero(e.getDate())+"/"+padZero(parseInt(e.getMonth())+1)+"/"+e.getFullYear()},setHoursToZero=function(e){var t=new Date(e);return new Date(t.setHours(0,0,0,0))},getDuplicateArray=function(e){e=this.validateArr(e);for(var t=[],n=0;n<e.length;n++)t.push(this.getDuplicateObject(e[n]));return t},getMapToArray=function(e,t){var n=[];for(var o in e)e.hasOwnProperty(o)&&t&&(e[o][t]=o,n.push(e[o]));return n},getSpecificKeyArrFromArrayOfObjects=function(e,t){for(var n={},o=0;o<e.length;o++)e[o][t]&&(n[e[o][t]]=o);return Object.keys(n)},sortFunction=function(e,t,n,o){e=validateArr(e);var a=function(e,a){return n=typeof e[t],"string"!=n&&e[t]<a[t]||"string"==n&&e[t].toLowerCase()<a[t].toLowerCase()?"asc"==o?-1:1:"string"!=n&&e[t]>a[t]||"string"==n&&e[t].toLowerCase()>a[t].toLowerCase()?"asc"==o?1:-1:0};return e.sort(a)},setLocalStorageOnLiveTestAdd=function(e){var t=function(t){if(t.data){var n=t.data._id||-1;if(!getLocalStorage("liveTest"+n+"-"+e)&&n!=-1&&document.getElementById("js-test-tiles"))for(var o=document.getElementById("js-test-tiles").getElementsByClassName("each-lt-details"),a=0;a<o.length;a++)o[a].getAttribute("data-tid")==e&&(setLocalStorage("liveTest"+n+"-"+e,"added",14),o[a].getElementsByClassName("goto-course-btn")[0].classList.contains("hidden")||(o[a].getElementsByClassName("goto-course-btn")[0].className+=" hidden"))}};TB.GetStudentFromStorage(t)};$(document).on("loaded.tb.announcement-banner",function(){$(".js-app-promotion-banner")&&($(".js-app-promotion-banner").remove(),setHeaderMarginTop(),$(document).trigger("closed.tb.app-promotion-banner"))});var bannerInfo={};"true"!=getURLParameterValue("modal")&&document.getElementById("top-header")&&!IS_REMOVE_LT_BANNER&&!function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==e.readyState&&200==e.status&&e.responseText){var t=JSON.parse(e.responseText);if(t&&t.success&&t.data.title&&t.data.title.items&&(t.data.title.items.length||t.data.title.text)){bannerInfo=t.data;var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="/js/announcement.js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o)}}},e.open("GET",TB.APIPrefix+"v2/announcements?X-Tb-Client=web,1.1.0&client=web",!0),e.send(null)}();var isValidDate=function(e){var t=new Date(e).getTime();t=t?t:-9999999999;var n=new Date(REF_DATE_STR).getTime();return n<t},infiniteScrollTimer,isScrollAvailable=function(e,t,n){
var o=function(){clearTimeout(infiniteScrollTimer),infiniteScrollTimer=setTimeout(a,n)},a=function(){var n=$("body").height()||0,o=$(window).height()||0,a=$(document).scrollTop()||0,i=n-(o+a),r=Math.floor(o*e/100);i<=r&&t()},i=function(){o()};i()};$(window).on("scroll",function(){alterHeader()});var notificationWebengageTimeout,notificationAttemptCount=0;!function(){var e=TB||{},t=function(){return""!=getCookie(TB_TOKEN)},n=!1,o=.25,a="tb_student_data",i="tb_student_id",r="just_logged_out",s="refresh_student_ls",c=function(e){e._id&&(setLocalStorage(i,JSON.stringify(e._id),o),setLocalStorage(a,JSON.stringify(e),o))},l=function(t){t.data?c(t.data):showAlert("Problem in loading data. Please check internet connection","error","sm",3e3),e.taskQueueProcess("stuDetail")},u=function(t,o,a){n=!0;var i="web,1.2",r="X-Tb-Client",s="_id,email,name,meta,gender,lang,bio,dob,username,mobile,mobileVerified,cur_exam,enrollments,specificExams,image,sub,createdOn,streaks,referral,referrer,coinsExpensed,cashbacks,college_details,calang,cart,preferences,cobrandingInfo,location,confirm,tblang,coinsExpensedBackup,tests",c=e.APIPrefix+"v2/students/me?auth_code="+t+"&fields="+s+"&"+r+"="+i;$.ajax({url:c,type:"GET",success:function(e){n=!1,e&&e.success?o(e):a?a(e):showAlert(e&&e.message||"Connection Error","error","sm",3e3)},error:function(e){n=!1,showAlert("Connection Error","error","sm",3e3)}})},d=function(){var e={},t=$("#course_info").val()||"[]",n=JSON.parse(t),o=function(){return{parent:{id:"",name:"",url:""},url:"",name:"",isUpcoming:"",isFreezed:""}},a=function(t){if(t.hasOwnProperty("specificExams"))for(var n=0;n<t.specificExams.length;n++){var a=o();a.parent.id=t.id,a.parent.name=t.abbr,a.parent.url=t.URL,a.url=t.specificExams[n].URL,a.name=t.specificExams[n].text,a.isUpcoming=!!t.specificExams[n].isUpcoming,a.isFreezed=!!t.specificExams[n].isFreezed,e[t.specificExams[n].id]=a}};return n.forEach(function(e){if(e.isGroup)for(var t=0;t<e.courses.length;t++)a(e.courses[t]);else a(e)}),e},g=function(){var e=getCookie(TB_TOKEN);!e||getLocalStorage(i)&&!getCookie(s)?e||(removeLocalStorage(a),removeLocalStorage(i)):(u(e,l),setCookie(s,1,-1))},p=function(){var e={},t=getLocalStorage(a);return t?e.data=JSON.parse(getLocalStorage(a)):e.message="Student Info not present",e},f=function(t,o){var a={},r=function(e){c(e.data),t(p())},s=function(){showAlert("Connection error","error","sm",3e3)};if(o)u(getCookie(TB_TOKEN),r,s);else if(getCookie(TB_TOKEN))if(getLocalStorage(i))t(p());else if(n){var l=function(){t(p())};e.taskQueuePush(l,"stuDetail")}else u(getCookie(TB_TOKEN),r,s);else a.message="logged out state",t(a)},m=function(e,t){var n=function(t){c(t.data),b(TBAnalytics.gtm.events.studentDocUpdated),e&&e(t)};u(getCookie(TB_TOKEN),n,t)},v=function(e){if(getCookie(TB_TOKEN)&&getLocalStorage(a)&&e.id){var t=JSON.parse(getLocalStorage(a));t.currentCourse&&(t.currentCourse=e),setLocalStorage(a,JSON.stringify(t),o)}else getCookie(TB_TOKEN)&&!getLocalStorage(a)&&m();forceSessionRefresh(!0)},h=function(e){if(getCookie(TB_TOKEN)&&getLocalStorage(a)){var t=JSON.parse(getLocalStorage(a));t.location&&(t.location=e),setLocalStorage(a,JSON.stringify(t),o)}else getCookie(TB_TOKEN)&&!getLocalStorage(a)&&m();forceSessionRefresh(!0)},b=function(e){if(t()){var n=function(t){if(t.data){t=t.data;var n="",o="";t.name&&(t.name.trim().indexOf(" ")!=-1?(n=t.name.trim().substr(0,t.name.trim().indexOf(" ")),o=t.name.trim().substr(t.name.trim().indexOf(" ")+1)):(n=t.name.trim(),o=""));var a=t.mobileVerified?t.mobileVerified:t.mobile?t.mobile:"",i=!!t.mobileVerified,r=!!(t.confirm&&t.confirm.email&&t.confirm.email.status),s=!!t.referrer&&!!t.referrer.sid,c=!(!t.cobrandingInfo||!t.cobrandingInfo.validTill)&&new Date(t.cobrandingInfo.validTill).getTime()>=(new Date).getTime();t.currentCourse&&(t.currentCourse.abbr=t.currentCourse.name,delete t.currentCourse.name);var l="";t.tblang&&("hn"===t.tblang?l="Hindi":"en"===t.tblang&&(l="English"));var u={sid:t._id,fname:n,lname:o,email:t.email||"",createdOn:t.createdOn||"",createdOnUnix:Math.round(new Date(t.createdOn).getTime()/1e3)||"",mobile:a,isMailConfirmed:r,isReferred:s,isMobileConfirmed:i,currentCourse:t.currentCourse||"",registeredCourses:t.enrollments||[],isOCRMStudent:c,tblang:l};TBAnalytics.gtm.pushToDataLayer(u),TBAnalytics.gtm.pushToDataLayer(e)}};f(n)}else TBAnalytics.gtm.pushToDataLayer({sid:-1}),TBAnalytics.gtm.pushToDataLayer(e);getCookie(r)&&(dataLayer&&TBAnalytics.gtm.pushToDataLayer(TBAnalytics.gtm.events.signOut),setCookie(r,"true",0))},T=function(){e.KEY_STUD_INFO=a,e.KEY_SID=i,e.GetStudentFromStorage=f,e.RepopulateStudentInStorage=m,e.UpdateCurrentCourseInStorage=v,e.UpdateStudentLocationInLS=h,e.mapExamIDToInfo=d(),g(),b(TBAnalytics.gtm.events.pageReady)};T()}(),function(){function e(){function e(e,t,n){t.on("click",function(){var e=$(t),n=e.siblings("[tb-scroll-element]"),o=n.children(":first-child").outerWidth(!0),a=n.innerWidth(),i=n[0].scrollWidth,r=Math.floor(a/o),s=r*o,c=n.scrollLeft(),l=TB.hasScrollBar(n,"horizontal"),u=$(this).attr("data-scroll");"left"===u&&(c-=s,n.animate({scrollLeft:c},250*r)),"right"===u&&(c+=s,n.animate({scrollLeft:c},250*r)),c<=0?n.siblings('[data-scroll="left"]').hide():l&&n.siblings('[data-scroll="left"]').show(),c+a>=i?n.siblings('[data-scroll="right"]').hide():l&&n.siblings('[data-scroll="right"]').show()})}return{restrict:"A",scope:{},link:e}}function t(){function e(e,t,n){t.on("scroll",function(){var e=$(t),n=e.scrollLeft(),o=this.scrollWidth;n<=0?e.siblings('[data-scroll="left"]').hide():n+e.innerWidth()>=o?e.siblings('[data-scroll="right"]').hide():e.siblings('[data-scroll="left"], [data-scroll="right"]').show()})}return{restrict:"A",scope:{},link:e}}angular.module("commonModule",[]).directive("tbScrollBtn",e).directive("tbScrollElement",t)}();

"use strict";var TB=TB||{};TB.APIPrefix=document.getElementById("go-api-server")&&document.getElementById("go-api-server").value;var app=angular.module("Testbook",[]);app.service("sharedProperties",function(){var t={};this.setValue=function(e,s){return t[e]=s,1},this.getValue=function(e){return t[e]?t[e]:""}}),app.service("TB",["$http","$window",function(t,e){this.setCookie=function(t,e,s){var i=new Date;i.setTime(i.getTime()+24*s*60*60*1e3);var n="expires="+i.toUTCString()+"; path=/";document.cookie=t+"="+e+"; "+n},this.getCookie=function(t){for(var e,s,i=document.cookie.split(";"),n=0;n<i.length;n++)if(e=i[n],s=i[n].split("="),s[0].trim()==t)return s[1]&&s[1].trim()||"";return""},this.KEY_TOKEN="tb_token",this.setToken=function(t,e){this.setCookie(this.KEY_TOKEN,t,e/86400),this.auth_code=this.getToken()},this.getToken=function(){return this.getCookie(this.KEY_TOKEN)},this.auth_code=this.getToken(),this.getQueryVariable=function(t){for(var s=e.location.search.substring(1),i=s.split("&"),n=0;n<i.length;n++){var o=i[n].split("=");if(o[0]==t)return decodeURIComponent(o[1])}return""};var s="1.2",i="web,"+s,n="X-Tb-Client";this.getAPIHelper=function(e,s,i){var n=this;t.get(e).success(function(t,e,o,r){n.handleResponse(!1,t,s,i,e)}).error(function(t,e,o,r){n.handleResponse(!0,t,s,i,e)})},this.postAPIHelperWithJSONBody=function(e,s,i,n){var o=this;t.post(e,s).success(function(t,e,s,r){o.handleResponse(!1,t,i,n,e)}).error(function(t,e,s,r){o.handleResponse(!0,t,i,n,e)})},this.postAPIHelper=function(e,s,i){var n=this;t({method:"POST",dataType:"JSON",url:e}).success(function(t,e,o,r){n.handleResponse(!1,t,s,i,e)}).error(function(t,e,o,r){n.handleResponse(!0,t,s,i,e)})},this.sendAjaxForPostWithMultipart=function(e,s,i,n){var o=this;t.post(s,e,{withCredentials:!0,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t,e,s,r){o.handleResponse(!1,t,i,n,e)}).error(function(t,e,s,r){o.handleResponse(!0,t,i,n,e)})},this.handleResponse=function(t,e,s,i,n){if(401==n&&["/login","/signup"].indexOf(window.location.pathname)==-1)return showAlert("Your session timedout. Please re-login and proceed","error","small",3e3),setTimeout(function(){window.location.href="/logout"},3e3),!1;if(t)if(i)i(e);else{hideLoader();var o="";e&&e.message?o=e.message:(o=TB.API_DEFAULT_ERROR_MESSAGE,"undefined"!=typeof Bugsnag&&Bugsnag.notify("FailureCB","Network call failed",{breakpoint_values:{url:window.location.href,response:e}})),showAlert(o,"error","large",3e3)}else e&&e.success?s?s(e):e.message&&""!=e.message&&(hideLoader(),showAlert(e.message,"success",4e3)):i?i(e):(hideLoader(),showAlert(e&&e.message||"Unable to complete your request. Please try again.","error","small",3e3))},this.getEncodedURL=function(t,e,s){var o="",r="";r=s?TB.APIPrefix+e+"?":e.indexOf("?")!=-1?TB.APIPrefix+e+"&auth_code="+this.auth_code:TB.APIPrefix+e+"?auth_code="+this.auth_code,r+="?"==r[r.length-1]?"":"&",r+=n+"="+i;for(var a in t)t.hasOwnProperty(a)&&(o="object"==typeof t[a]?JSON.stringify(t[a]):t[a],r+=r.indexOf("?")!=-1?"&"+a+"="+encodeURIComponent(o):"?"+a+"="+encodeURIComponent(o));return r},this.register=function(t,e,s){var i="v2/signon/register",n={name:t.name,mobile:t.mobile,email:t.email,refLink:t.refLink,password:t.password,client:"web"},o=this,r=function(t){o.setToken(t.data.token,t.data.tokenExpiry),e&&e(t)},a=this.getEncodedURL(n,i,!0);this.postAPIHelper(a,r,s)},this.registerWithoutToken=function(t,e,s){var i="v2/signon/register",n=this.getEncodedURL(t,i);this.postAPIHelper(n,e,s)},this.login=function(t,e,s){var i="v2/signon/login",n={emailOrUserNameOrMobile:t.emailOrUserNameOrMobile,password:t.password,client:"web"},o=this,r=function(t){o.setToken(t.data.token,t.data.tokenExpiry),e&&e(t)},a=this.getEncodedURL(n,i,!0);this.postAPIHelper(a,r,s)},this.socialConnect=function(t,e,s){var i="v2/signon/social/connect",n={token:t.token,network:t.network,email:t.email,refLink:t.refLink,redirect_uri:t.redirectURI,code:t.code,client:"web"},o=this,r=function(t){o.setToken(t.data.token,t.data.tokenExpiry),e&&e(t)},a=this.getEncodedURL(n,i,!0);this.postAPIHelper(a,r,s)},this.forgotPassword=function(t,e){var s="v2/signon/password/forgot",i={email:t.email||"",mobile:t.mobile||""},n=this.getEncodedURL(i,s,!0);this.postAPIHelper(n,e)},this.isOTPValidForForgotPassword=function(t,e){var s="v2/signon/verify/otp",i={mobile:t.mobile,otp:t.otp},n=this.getEncodedURL(i,s,!1);this.postAPIHelper(n,e)},this.updatePassword=function(t,e,s){var i="v2/signon/password/update",n=TB.APIPrefix+i+"?auth_code="+t.token+"&password="+encodeURIComponent(t.password)+"&otp="+t.otp+"&mobile="+t.mobile;this.postAPIHelper(n,e,s)},this.saveProfile=function(t,e,s){var i="v2/students/me/partial",n=this.getEncodedURL(t,i,!1);this.postAPIHelper(n,e,s)},this.changePassword=function(t,e,s){var i="v2/students/me/password",n=this.getEncodedURL(t,i,!1);this.postAPIHelper(n,e,s)},this.deactivateAccount=function(t,e){var s="v2/students/me/deactivate",i=this.getEncodedURL({},s,!1);this.postAPIHelper(i,t,e)},this.uploadImg=function(t,e,s){var i="v2/students/me/picture",n=this.getEncodedURL({},i,!1);this.sendAjaxForPostWithMultipart(t,n,e,s)},this.updateMobile=function(t,e,s){var i="v2/students/me/mobile/getotp",n=this.getEncodedURL(t,i,!1);this.postAPIHelper(n,e,s)},this.verifyOtp=function(t,e,s){var i="v2/students/me/mobile/confirm",n=this.getEncodedURL(t,i,!1);this.postAPIHelper(n,e,s)},this.getPromotions=function(t,e,s){var i="v2/tests/"+t+"/promotions",n=this.getEncodedURL({test:t},i,!1);this.getAPIHelper(n,e,s)},this.getProductDetails=function(t,e,s,i){var n="v2/courses/"+t+"/products",o=this.getEncodedURL(e,n,!0);this.getAPIHelper(o,s,i)},this.getReleasePackProductDetails=function(t,e,s){var i="v2/products",n=this.getEncodedURL(t,i,!0);this.getAPIHelper(n,e,s)},this.getStudentDetails=function(t,e,s,i,n){var o="v2/courses/"+e+"/students/"+t+"/products",r=this.getEncodedURL(s,o,!1);this.getAPIHelper(r,i,n)},this.getStudentQuizzesDashboard=function(t,e,s,i){var n="v2/students/"+t+"/tests",o=this.getEncodedURL(e,n,!1);this.getAPIHelper(o,s,i)},this.requestMoreTests=function(t,e){var s="v2/students/request/tests",i=this.getEncodedURL({},s,!1);this.getAPIHelper(i,t,e)},this.getExpiredAttemptedTests=function(t,e,s){var i="v2/tests",n=this.getEncodedURL(t,i,!1);this.getAPIHelper(n,e,s)},this.applyCoupon=function(t,e,s){var i="v2/coupon/validate",n=this.getEncodedURL(t,i,!1);this.getAPIHelper(n,e,s)},this.manageTransactions=function(t,e,s){var i="v2/payment/log",n=this.getEncodedURL(t,i,!1);this.postAPIHelper(n,e,s)},this.genOtpForPaytm=function(t,e,s){var i="v2/students/me/paytm/generateotp",n=this.getEncodedURL(t,i,!1);this.postAPIHelper(n,e,s)},this.verifyOtpForPaytm=function(t,e,s){var i="v2/students/me/paytm/validateotp",n=this.getEncodedURL(t,i,!1);this.postAPIHelper(n,e,s)},this.getPaymentLogs=function(t,e,s){var i="v2/payment/log",n=this.getEncodedURL(t,i,!1);this.getAPIHelper(n,e,s)},this.replaceEnglishTestsWithHindi=function(t,e,s){var i="v2/students/me/products",n=this.getEncodedURL(t,i,!1);this.postAPIHelper(n,e,s)},this.addPacksToMyTestsViaSubscription=function(t,e,s){var i="v2/students/me/products";t.source="subscription";var n=this.getEncodedURL(t,i,!1);this.postAPIHelper(n,e,s)},this.getReferralsInfo=function(t,e){var s="v2/students/me/referrals",i=this.getEncodedURL({},s,!1);this.getAPIHelper(i,t,e)},this.remindFriend=function(t,e,s){var i="v2/students/me/referrals/remind",n=this.getEncodedURL(t,i,!1);this.getAPIHelper(n,e,s)},this.getStudentTransactions=function(t,e){var s="v2/students/me/transactions",i=this.getEncodedURL({},s,!1);this.getAPIHelper(i,t,e)},this.saveStudentCAAppInfo=function(t,e,s){var i="v2/ca",n=this.getEncodedURL({},i,!1);this.postAPIHelperWithJSONBody(n,t,e,s)},this.getCouponDetails=function(t,e,s){var i="v2/ecards",n=this.getEncodedURL(t,i,!0);this.getAPIHelper(n,e,s)},this.getAnalysis=function(t,e,s){var i="v2/tests/"+t+"/analysis",n=this.getEncodedURL({},i,!1);this.getAPIHelper(n,e,s)},this.getLeaderboardInfo=function(t,e,s,i){var n="v2/tests/"+t+"/meritlist",o=this.getEncodedURL(e,n,!1);this.getAPIHelper(o,s,i)},this.sendFeedback=function(t,e,s,i){var n="v2/tests/"+e+"/feedback",o=this.getEncodedURL({},n,!1);this.postAPIHelperWithJSONBody(o,t,s,i)},this.getInstructions=function(t,e,s){var i="v2/tests/"+t+"/instructions",n=this.getEncodedURL({},i,!0);this.getAPIHelper(n,e,s)},this.getTest=function(t,e,s){var i="v2/tests/"+t,n=this.getEncodedURL({},i,!1);this.getAPIHelper(n,e,s)},this.getTestResponses=function(t,e,s){var i={random:Math.random()},n="v2/tests/"+t+"/responses",o=this.getEncodedURL(i,n,!1);this.getAPIHelper(o,e,s)},this.saveTestResponses=function(t,e,s,i){var n="v2/tests/"+t,o=this.getEncodedURL({},n,!1);this.postAPIHelperWithJSONBody(o,e,s,i)},this.getTestState=function(t,e,s){var i={client:"web",random:Math.random()},n="v2/tests/"+t+"/state",o=this.getEncodedURL(i,n,!1);this.getAPIHelper(o,e,s)},this.getAnswers=function(t,e,s){var i="v2/tests/"+t+"/answers",n=this.getEncodedURL({},i,!1);this.getAPIHelper(n,e,s)},this.reportQuestion=function(t,e,s){var i="v2/questions/report",n=this.getEncodedURL(t,i,!1);this.postAPIHelper(n,e,s)},this.getSavedQuestions=function(t,e,s,i){var n="v2/students/"+t+"/vault",o=this.getEncodedURL(e,n);this.getAPIHelper(o,s,i)},this.getQidsOrderArr=function(t,e,s,i){var n="v2/students/"+t+"/vault/qids",o=this.getEncodedURL(e,n);this.getAPIHelper(o,s,i)},this.getMe=function(t,e){var s="v2/students/me",i=this.getEncodedURL({},s,!1);this.getAPIHelper(i,t,e)},this.getOffers=function(t,e,s){var i="v2/offers/products",n=this.getEncodedURL(t,i,!0);this.getAPIHelper(n,e,s)},this.getPracticeTags=function(t,e,s){var i="v2/practice/"+t+"/chapters",n=this.getEncodedURL({},i,!0);this.getAPIHelper(n,e,s)},this.getPracticeQuestions=function(t,e,s,i,n){var o="v2/practice/"+t+"/"+e+"/questions",r=this.getEncodedURL(s,o,!0);this.getAPIHelper(r,i,n)},this.getPracticeResponses=function(t,e,s,i){var n="v2/practice/"+t+"/"+e+"/responses",o=this.getEncodedURL({},n,!1);this.getAPIHelper(o,s,i)},this.getPracticeAnalysis=function(t,e,s){var i="v2/practice/"+t+"/analysis",n=this.getEncodedURL({},i);this.getAPIHelper(n,e,s,!1)},this.submitPracticeResponse=function(t,e,s,i,n,o){var r="v2/practice/"+e+"/"+s+"/responses",a=this.getEncodedURL(t,r,!1);this.postAPIHelperWithJSONBody(a,i,n,o)},this.getCourseBookmarks=function(t,e,s,i){var n="v2/students/"+t+"/vault/chapters",o=this.getEncodedURL(e,n,!1);this.getAPIHelper(o,s,i)},this.getChapterBookmark=function(t,e,s,i){var n="v2/students/"+t+"/vault",o=this.getEncodedURL(e,n,!1);this.getAPIHelper(o,s,i)},this.saveBookmark=function(t,e,s,i,n){s.client="web";var o="v2/students/"+t+"/vault/multiple",r=this.getEncodedURL(s,o,!1);this.postAPIHelperWithJSONBody(r,e,i,n)},this.deleteBookmark=function(t,e,s,i){var n="v2/students/"+t+"/vault/delete",o=this.getEncodedURL(e,n,!1);this.postAPIHelper(o,s,i)},this.getSitemap=function(t,e,s,i){var n="v2/practice/"+t+"/"+e+"/qurls",o=this.getEncodedURL({},n,!1);this.getAPIHelper(o,s,i)},this.razorPayCaptureCheckout=function(t,e,s){var i="v2/payment/razorpay",n=this.getEncodedURL(t,i,!1);this.postAPIHelper(n,e,s)},this.getBlogPosts=function(t,e,s,i,n,o){var r=e?"featured":"notifications";if(t){n=n?n:0,o=o?o:6;var a="//testbook.com/blog/mobile_blog_api.php?type=2&skip="+n+"&limit="+o+"&examid="+t+"&post_type="+r;this.getAPIHelper(a,s,i)}},this.getMyPortfolioSummary=function(t,e){var s="v2/students/me/portfolio/summary",i=this.getEncodedURL({},s,!1);this.getAPIHelper(i,t,e)},this.sendEmailForVerification=function(t,e,s){var i="v2/students/me/email/gettoken",n=this.getEncodedURL(t,i,!0);this.postAPIHelper(n,e,s)},this.confirmStudentMail=function(t,e,s){var i="v2/students/me/email/confirm",n=this,o=function(t){n.setToken(t.data.token,t.data.tokenExpiry),e&&e(t)},r=this.getEncodedURL(t,i,!0);this.postAPIHelper(r,o,s)},this.enrollInCourse=function(t,e,s){var i="v2/students/me/enroll",n=this.getEncodedURL(t,i,!1);this.postAPIHelper(n,e,s)},this.setCurrentCourse=function(t,e,s){var i="v2/students/me/currentcourse",n=this.getEncodedURL(t,i,!1);this.postAPIHelper(n,e,s)},this.getSubsPlan=function(t,e,s){var i="v2/products",n=this.getEncodedURL(t,i,!1);this.getAPIHelper(n,e,s)},this.getStuSubsPlan=function(t,e,s){var i="v2/students/me/subscriptions",n=this.getEncodedURL(t,i,!1);this.getAPIHelper(n,e,s)},this.getStuProducts=function(t,e,s){var i="v2/students/me/subscriptions/products",n=this.getEncodedURL(t,i,!1);this.getAPIHelper(n,e,s)},this.getTags=function(t,e,s){var i="v2/tags",n=this.getEncodedURL(t,i,!1);this.getAPIHelper(n,e,s)},this.getStuAcademicData=function(t,e,s){var i="v2/students/constants",n=this.getEncodedURL(t,i,!0);this.getAPIHelper(n,e,s)},this.unEnrollFromCourse=function(t,e,s){var i="v2/students/me/enrollments/deactivate",n=this.getEncodedURL(t,i,!1);this.postAPIHelper(n,e,s)},this.getApplicationStatusForVyaktitva=function(t,e,s){var i="v2/ca/"+t,n=this.getEncodedURL({},i);this.getAPIHelper(n,e,s)},this.getStatsSummary=function(t,e){var s="v2/stats/summary",i=this.getEncodedURL({},s,!0);this.getAPIHelper(i,t,e)},this.getInviterInfo=function(t,e,s){var i="v2/students/refid/"+t,n=this.getEncodedURL({},i,!0);this.getAPIHelper(n,e,s)},this.getExamPageInfo=function(t,e,s,i){var n="v2/courses/"+t+"/exams/"+e+"/page",o=this.getEncodedURL({},n,!1);this.getAPIHelper(o,s,i)},this.getSavedQids=function(t,e,s,i){var n="v2/students/"+e+"/vault/qids",o=this.getEncodedURL(t,n,!1);this.getAPIHelper(o,s,i)},this.authorizeOAuth2Client=function(t,e,s){var i="v2/oauth2/authorize",n=this.getEncodedURL(t,i,!1);this.postAPIHelper(n,e,s)},this.getPageSEO=function(t,e,s){var i="v2/seo",n=this.getEncodedURL(t,i,!1);this.getAPIHelper(n,e,s)},this.extendSubscriptionValidity=function(t,e){var s="v2/payment/subscription/validity",i=this.getEncodedURL({},s,!1);this.postAPIHelper(i,t,e)},this.getTestpacks=function(t,e){var s="v2/products/testPacks",i=this.getEncodedURL({},s,!0);this.getAPIHelper(i,t,e)},this.getStudentPass=function(t,e,s){var i="v2/students/me/tbpass",n=this.getEncodedURL(t,i,!1);this.getAPIHelper(n,e,s)},this.getTBPasses=function(t,e){var s="v2/products/tbpasses",i=this.getEncodedURL({},s,!0);this.getAPIHelper(i,t,e)},this.getReleasePlan=function(t,e,s){var i="v2/products/"+t+"/releasePlan",n=this.getEncodedURL({},i,!0);this.getAPIHelper(n,e,s)},this.getLiveTestInfo=function(t,e,s){var i="v2/tests",n=this.getEncodedURL(t,i,!1);this.getAPIHelper(n,e,s)}}]);
function validationService(){this.CLASS_ERROR="error",this.CLASS_SUCCESS="success",this.ATTR_ERROR="data-error",this.ATTR_SUCCESS="data-success"}function validateMobile(a){""==a.val()||a.val().length>9?addErrorNodes(a,""):addErrorNodes(a,"Please enter a valid 10 digit mobile number")}function validateUname(a){var e="",s=!0;a.val().length<4?(e="Minimum length is 4",s=!1):0==/^[a-zA-Z0-9_.]*$/.test(a.val())&&(e="Special characters except '.' or '_' are not allowed",s=!1),unameAvlbl(a,e,s)}function validateFullname(a){var e="";a.val().length<1?e="Full name can not be empty":0==/^[a-zA-Z0-9_. ]*$/.test(a.val())&&(e="Special characters not allowed"),addErrorNodes(a,e)}function validateEmail(a,e){var s="";"undefined"==typeof e&&(e=!0),isValidEmail(a.val())||(s="Format validation failed",e=!1),emailAvlbl(a,s,e)}function emailAvlbl(a,e,s){addErrorNodes(a,"showloading");var F=$("#sid").val();if(s){$.ajax({url:"/register",type:"POST",data:{task:"emailAvlbl",email:a.val(),sid:"-1"==F?void 0:F},dataType:"json"}).done(function(s){s.success?addErrorNodes(a,e):addErrorNodes(a,"Email already registered")})}else addErrorNodes(a,e)}function unameAvlbl(a,e,s){addErrorNodes(a,"showloading");var F=$("#sid").val();if(s){$.ajax({url:"/register",type:"POST",data:{task:"unameAvlbl",username:a.val(),sid:"-1"==F?void 0:F},dataType:"json"}).done(function(s){s.success?addErrorNodes(a,e):addErrorNodes(a,"Username not available")})}else addErrorNodes(a,e)}function addErrorNodes(a,e){""==e?a.parent().parent().removeClass("error").removeClass(loadingClassName):"showloading"==e?a.parent().parent().removeClass("error").addClass(loadingClassName):(a.parent().parent().removeClass(loadingClassName).addClass("error"),a.parent().siblings().find(".errorMsg span").text(e))}function checkPwdStrength(a){var e=a.val();if(!e)return void a.parent().parent().removeClass("weak medium strong").addClass("error");for(var s=0,F=new Object,u=0;u<e.length;u++)F[e[u]]=(F[e[u]]||0)+1,s+=5/F[e[u]];var t={digits:/\d/.test(e),lower:/[a-z]/.test(e),upper:/[A-Z]/.test(e),nonWords:/\W/.test(e)};variationCount=0;for(var r in t)variationCount+=1==t[r]?1:0;s+=10*(variationCount-1),a.parent().parent().removeClass("strong medium weak error"),s>65?a.parent().parent().addClass("strong"):s>45?a.parent().parent().addClass("medium"):s>15?a.parent().parent().addClass("weak"):a.parent().parent().addClass("error weak")}function checkMatch(a,e){a.parent().parent().hasClass("error")||""==e.val()||(a.val()==e.val()?e.parent().parent().removeClass("error").addClass("confirm"):e.parent().parent().removeClass("confirm").addClass("error"))}function isValidEmail(a){var e=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);return e.test(a)}var loadingClassName="loading";validationService.prototype.defaultCallback=function(a,e){var s=a.parent();s.removeClass(this.CLASS_SUCCESS).removeClass(this.CLASS_ERROR),s.addClass(e.success?this.CLASS_SUCCESS:this.CLASS_ERROR).attr(e.success?this.ATTR_SUCCESS:this.ATTR_ERROR,e.msg)},validationService.prototype.validateMobile=function(a,e){return e=e?e:this.defaultCallback,a.val().length>9?e.call(this,a,{success:!0,msg:""}):e.call(this,a,{success:!1,msg:"Please enter a valid 10 digit mobile number"}),!0},validationService.prototype.isNonEmpty=function(a,e){e=e?e:this.defaultCallback;var s={success:!0,msg:""};return 0==a.val().length?(s.msg="Min length is 1",s.success=!1,e.call(this,a,s),!0):(e.call(this,a,{success:!0,msg:""}),!0)},validationService.prototype.validateUsername=function(a,e,s){s=s?s:this.defaultCallback;var F={success:!0,msg:""};if(a.val().length<4)return F.msg="Minimum length is 4",F.success=!1,e=!1,s.call(this,a,F),!0;if(0==/^[a-zA-Z0-9_.]*$/.test(a.val()))return F.msg="Special characters except '.' or '_' are not allowed",F.success=!1,e=!1,s.call(this,a,F),!0;if(e){$("#sid").val();if(e){var u=this;$.ajax({url:"/register",type:"POST",data:{task:"uNameAvailable",username:a.val()},dataType:"json"}).done(function(e){e.success?(F.success=!0,F.msg=""):(F.success=!1,F.msg="Username not available"),s.call(u,a,F)})}}else s.call(this,a,{success:!0,msg:""});return!0},validationService.prototype.validateFullName=function(a,e){e=e?e:this.defaultCallback;var s={success:!0,msg:""};return a.val().length<1?(s.msg="Full Name can not be empty",s.success=!1,e.call(this,a,s)):0==/^[a-zA-Z0-9_.\ ]*$/.test(a.val())?(s.msg="Special characters are not allowed",s.success=!1,e.call(this,a,s)):(s.success="true",s.msg="",e.call(this,a,s)),!0},validationService.prototype.isValidEmailFormat=function(a){var e=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);return e.test(a)},validationService.prototype.validateEmail=function(a,e,s){s=s?s:this.defaultCallback;var F={success:!0,msg:""};if(a.val().length<1)return F.msg="Email can not be empty",F.success=!1,s.call(this,a,F),!0;if(!this.isValidEmailFormat(a.val()))return F.msg="Please enter a valid email id",F.success=!1,e=!1,s.call(this,a,F),!0;if(e){$("#sid").val();if(e){var u=this;$.ajax({url:"/register",type:"POST",data:{task:"emailAvailable",email:a.val()},dataType:"json"}).done(function(e){e.success?(F.success=!0,F.msg=""):(F.success=!1,F.msg="Email is already registered"),s.call(u,a,F)})}}else s.call(this,a,{success:!0,msg:""});return!0};var loadingClassName="loading";
var TB=TB||{};!function(){function e(e,s,a){function i(e){if(window){var r=e+"-practice",t=window.location.href||"",o=t.split("//").length&&t.split("//")[1]||"";window.location.search&&(o=o.split("?")[0]);var n=o.split("/");n.splice(0,1);var s=n[0],a=b+"-practice",i="";s===b?(n[0]=e,i="/"+n.join("/"),window.location.href=i):s===a?(i="/"+r,window.location.href=i):window.location.reload()}}function c(e){showLoader("Changing Course. Please wait.");var r=function(r){forceSessionRefresh(!0);var t={id:e.id||"",name:e.name||""};TB.UpdateCurrentCourseInStorage(t),i(e.url)},t=function(e){e?showAlert(e.message||"Something went wrong, Please contact at support@testbook.com","error","large",5e3):showAlert("Please check your internet connection or contact at support@testbook.com","error","large",5e3),hideLoader()},o={course:e.id};e.id!==ID_GK_AND_CA&&s.setCurrentCourse(o,r,t)}var u=this,l="/tb-money",d="OPEN_PP_MODAL",p={},f=$("#sid")&&$("#sid").val()||-1,g=Object.prototype.hasOwnProperty;u.tbCourseArr=JSON.parse($("#course_info")&&$("#course_info").val()||"[]"),u.showStuCourseDropdown=!0;var b=document.getElementById("curCourseURL")&&document.getElementById("curCourseURL").value||"";u.stuObj={isShowCoBrandingLogo:!1,coBrandingLogoSrc:"",currentCourseObj:{},enrollmentsArr:[],profilePic:"",isLoggedIn:isLoggedIn()||!1,tbMoney:0},u.updateCurrentCourse=function(e){return c(e),!1};var m={},h=function(e){var r={id:e,name:m[e]&&m[e].abbr||"",url:m[e]&&m[e].URL||""};return r},w=function(e,r){for(var t=0;t<e.length;t++)if(e[t].course&&e[t].course.id==r)return t;return-1};e.$on(r,function(e,r){r&&(u.stuObj.currentCourseObj=h(r.courseId||""))}),e.$on(o,function(e,r){r&&(u.showStuCourseDropdown=!1)}),e.$on(t,function(e,r){if(r)if(r.isEnrolled){var t={course:h(r.courseId||"")};Object.keys(t).length&&u.stuObj.enrollmentsArr.push(t)}else{var o=w(u.stuObj.enrollmentsArr,r.courseId||"");o!==-1&&u.stuObj.enrollmentsArr.splice(o,1)}});var O=function(e){for(var r={},t=0;t<e.length;t++)if(e[t].isGroup)for(var o=0;o<e[t].courses.length;o++)r[e[t].courses[o].id]=e[t].courses[o];else r[e[t].id]=e[t];return r},v=function(e){for(var r=[],t=0;t<e.length;t++)e[t].course.id!==ID_GK_AND_CA&&m[e[t].course.id]&&(e[t].course.url=m[e[t].course.id].URL,e[t].course.hasOwnProperty("isInactive")&&e[t].course.isInactive||r.push(e[t]));return r},C=function(){var e=function(e,r){return isValidDate(e)&&new Date(r).getTime()>new Date(e).getTime()},r=function(e,r,t){return isValidDate(e)&&new Date(e).getTime()-new Date(r).getTime()>0&&new Date(e).getTime()-new Date(r).getTime()<=MS_IN_ONE_DAY*t},t=function(t){t&&t.success&&t.data&&(t.data.isExpired=e(t.data.curPass.expiry,t.data.curTime),t.data.isInRenewState=r(t.data.curPass.expiry,t.data.curTime,t.data.tbpassNotifyExpiry),t.data.hasPurchasedPass=isValidDate(new Date(t.data.curPass.expiry)),S(t.data),u.isShowRenewBtn=t.data.isExpired||t.data.isInRenewState)},o=function(e){};s.getStudentPass({},t,o)};u.isShowNav=function(e){return e!==l||u.stuObj&&0!==u.stuObj.tbMoney},u.openPricingPopup=function(){a.$broadcast(d,{})},u.isShowRenewBtn=!1;var S=function(e){a.$broadcast(n,{data:e})},D=function(e){for(var r=[],t=function(e){for(var t=0;t<e.length;t+=1){var o={url:e[t].URL,text:e[t].text,isCourse:!1,isUpcoming:e[t].isUpcoming};e[t].isFreezed&&r.push(o)}},o=0;o<e.length;o+=1)if(e[o].isGroup)for(var n=0;n<e[o].courses.length;n+=1){var s={url:e[o].courses[n].URL,text:e[o].courses[n].abbr,isCourse:!0,isUpcoming:!1};r.push(s),t(e[o].courses[n].specificExams)}else{var a={url:e[o].URL,text:e[o].abbr,isCourse:!0,isUpcoming:!1};r.push(a),t(e[o].specificExams)}return r},j=function(){var e=function(e){if(e.hasOwnProperty("message"))showAlert(e.message||"Something went wrong please contact at support@testbook.com","error","small",5e3);else{p=e.data||{};var r=g.call(p,"streaks")&&g.call(p.streaks,"practise")&&g.call(p.streaks.practise,"coins"),t=g.call(p,"streaks")&&g.call(p.streaks,"questions")&&g.call(p.streaks.questions,"coins");g.call(p,"cobrandingInfo")&&p.cobrandingInfo.logo&&"581ae6b32c74f961117c1708"!==p.cobrandingInfo.centerId&&(u.stuObj.coBrandingLogoSrc=p.cobrandingInfo.logo,u.stuObj.isShowCoBrandingLogo=!0),g.call(p,"currentCourse")&&p.currentCourse.id&&(u.stuObj.currentCourseObj=p.currentCourse),g.call(p,"image")&&p.image&&(u.stuObj.profilePic=p.image),g.call(p,"enrollments")&&p.enrollments.length&&(u.stuObj.enrollmentsArr=v(p.enrollments)),g.call(p,"referral")&&g.call(p.referral,"coins")&&(u.stuObj.tbMoney+=p.referral.coins),r&&(u.stuObj.tbMoney+=p.streaks.practise.coins),t&&(u.stuObj.tbMoney+=p.streaks.questions.coins),g.call(p,"coinsExpensedBackup")&&(u.stuObj.tbMoney-=p.coinsExpensedBackup),g.call(p,"referral")&&(u.stuObj.referral=p.referral)}};m=O(u.tbCourseArr),"-1"!=f&&(TB.GetStudentFromStorage(e),C()),u.courseExamArr=D(u.tbCourseArr)};angular.element(document).ready(function(){$(".js-group-one, #js-header-options-sidebar .course-btn").click(function(e){e.stopPropagation(),e.preventDefault(),$(this).toggleClass("active"),$(this).parent().children("ul").slideToggle()})}),j()}var r="COURSE_CHANGED",t="COURSE_ENROLLED_DE_ENROLLED",o="REMOVE_STU_COURSE_DROPDOWN",n="STU_PASS_LOADED",s=angular.module("tbHeaderApp",["Testbook","TBPayment"]);s.controller("headerCtrl",["$scope","TB","$rootScope",e])}();
var TB=TB||{};!function(){function e(){return{restrict:"E",scope:{},controller:["$scope","TB",t],templateUrl:"/views/partials/components/subfooter-seo.html"}}function t(e,t){var o=function(){return{anchorTag:"",link:""}},n=function(){return{title:"",links:[]}},s=function(){return{id:"",URL:"",type:"",name:"",sections:[],SEO:{title:"",description:"",keywords:[],URL:"",rel:[]}}},r="absent",i=window.location.host+window.location.pathname,a="ls_seo",c={};e.isSubFooterPresent=!1,e.subFooterSections=[];var l=function(e){for(var t=[],s=0;s<e.length;s++){var r=n();r.title=e[s].title||"";for(var i=0;i<e[s].links.length;i++){var a=o();a.link=e[s].links[i].link||"",a.anchorTag=e[s].links[i].anchorTag||"",r.links.push(a)}t.push(r)}return t},u=function(){var o=function(t){if(t.data.hasOwnProperty("id")&&""!==t.data.id){t=t.data;var o=s();o.id=t.id,o.URL=t.URL||"",o.type=t.pageType||"",o.name=t.name||"",o.sections=l(t.sections||[]),e.subFooterSections=o.sections,e.subFooterSections.length&&(e.isSubFooterPresent=!0),c[i]=o,setLocalStorage(a,JSON.stringify(c),.5)}},n=function(e){e&&e.message&&e.message.indexOf("SEO does not exists")!==-1&&(c[i]=r,setLocalStorage(a,JSON.stringify(c),.5))};if(c=JSON.parse(getLocalStorage(a)||"{}"),c.hasOwnProperty(i))c.PAGE_URL!==r?(e.subFooterSections=c[i].sections||[],e.subFooterSections.length&&(e.isSubFooterPresent=!0)):c.PAGE_URL===r&&(e.isSubFooterPresent=!1);else{var u={url:i,fields:"URL,name,pageType,sections"};t.getPageSEO(u,o,n)}};u()}var o=angular.module("SEO",["Testbook"]);o.directive("subFooter",e)}();
!function(){function e(e){var t=$(e);t.height(t.outerHeight())}var t=throttle(function(){var e=$(".js-feat-images-slide"),t=Math.floor(.62*e.width()+30);e.height(t)},100),a=$(window).width();$(document).ready(function(){function e(e){var t=e.attr("data-control");$(".js-feature-control span").removeClass("active"),e.addClass("active"),$(".js-each-feature").fadeOut(200),$('.js-each-feature[data-feature-id="content-'+t+'"]').delay(200).fadeIn(200),$(".js-each-feature-img").removeClass("active"),$('.js-each-feature-img[data-feature-id="content-'+t+'"]').addClass("active")}var a=setInterval(function(){var t=$(".js-feature-control .active").next();$(".js-feature-control span:last-child").hasClass("active")&&(t=$(".js-feature-control span:first-child")),e(t)},6e3);$(".js-feature-control span").on("click",function(){e($(this)),window.clearInterval(a)}),$(".js-view-course-toggle").click(function(){$(this).toggleClass("view-less"),$(this).closest(".body").toggleClass("toggled")}),t(),$(".js-filter-courses").on("click",function(e){e.preventDefault();var t=$(".js-hp-each-course"),a=$(this).attr("data-course-target");$(".js-filter-courses.active").removeClass("active"),$(this).addClass("active"),"js-all-courses"!=a?(t.hide(),$("."+a).show()):t.show(),$("#moreUlId li a.active").length?$("#moreBtnId").addClass("active"):$("#moreBtnId").removeClass("active")})}),$(window).resize(function(){t()}),a<screenSize.sm&&(e(".testbook-features-box"),e(".testbook-apps"));var s=angular.module("landingApp",["Testbook","tbHeaderApp","SEO","mobileVerification","PricingModal","commonModule"]);s.controller("landingCtrl",["$scope","TB",function(e,t){e.isReferrerBoxVisible=!1,e.statsCount={students:"",questions:"",tests:""},e.referrer={name:"",coins:0};var a=JSON.parse($("#course_info")&&$("#course_info").val()||"[]"),s=function(e){for(var t=["57f7bdfc03282123890789fc","58c3ea96995a2d374bb00d25","5a7b0c49d036300f91fc4884","5a749997f8f7c20fa056f043","58c37e8503282162000af2cc","56d6f283995a2d45a8735b91","5a703e1fc719d50f818c0597","579760f9995a2d58df9f3060","59f863eb37ac607fd03c853d","56d6f293995a2d45a8735bb5","57dc1c06995a2d66cc9845f6","57dc1bf1995a2d66cc984595"],a=[],s=[],r=0;r<e.length;r++)s.push(e[r].id);for(var i=0;i<t.length;i++)s.indexOf(t[i])!==-1&&a.push(e[s.indexOf(t[i])]);return a},r=function(e){for(var t=[],a=0;a<e.length;a+=1)for(var r=0;e[a].specificExams&&r<e[a].specificExams.length;r++)e[a].specificExams[r].URL="/"+e[a].specificExams[r].URL,e[a].specificExams[r].isUpcoming&&t.push(e[a].specificExams[r]);return s(t)},i=function(t){e.statsCount.students=t.data&&t.data.students||"",e.statsCount.questions=t.data&&t.data.responses||"",e.statsCount.tests=t.data&&t.data.tests||""},n=function(t){t&&t.data&&(e.referrer.name=t.data.student&&t.data.student.name.split(" ")[0]||"",e.referrer.coins=t.data&&t.data.coins||0,e.referrer.image=t.data.student&&t.data.student.image||"",e.styleUserImage={"background-image":"url("+e.referrer.image+")"},e.isReferrerBoxVisible=!0,setLocalStorage("reflink",$("#reflink").val(),1))},o=function(e){showAlert("Invalid Referral Code. Please <a href='/login?tile=login'> Click Here </a> to login.","error","sm")},c=function(){t.getStatsSummary(i),$("#reflink").val()&&t.getInviterInfo($("#reflink").val(),n,o),e.specificExamArr=r(a)};c()}])}();
!function(){function e(){return{restrict:"E",scope:{isOTPSent:"=otpSent",template:"@",mobile:"@",title:"@"},controller:["$scope","TB","$interval","$rootScope",t],templateUrl:"/views/partials/components/mobile-verification-template.html"}}function t(e,t,i,o){var n,a=30,r="call",l="SMS",s="",c=a;e.student={mobile:""},e.otp="",e.timeLeftString=a.toString(),e.otpSentVia=l,e.otpResent=!1,e.otpResentCount=0,e.maxOTPResendAllowed=6,e.activateResendOTPBtns=!1,e.activeLoader="",e.loader={resentOTP:"resendOTPLoader",OTPViaCall:"OTPViaCallLoader",verifyOTP:"verifyOTPLoader"};var d=function(t,o,r){n&&(i.cancel(n),e.activateResendOTPBtns=!1,e.timeLeftString=a.toString()),n=i(function(){c-=1,e.timeLeftString=c>9?""+c:"0"+c,0===c&&r()},t,o)},m=function(){e.activateResendOTPBtns=!0,e.timeLeftString=a.toString()};e.toggleCurrentState=function(){e.isOTPSent=!e.isOTPSent,e.otpResentCount=0,e.isOTPSent&&s&&(e.student.mobile=s)},e.sendOTP=function(i,o){var n=function(){e.activeLoader="",e.isOTPSent=!0,i||o?(e.otpResent=!0,e.otpResentCount=e.otpResentCount+1):(forceSessionRefresh(),e.otpResentCount=0,e.otpResent=!1),c=a,d(1e3,a,m)},s=function(t){e.activeLoader="",showAlert(t&&t.message||"There was a problem sending OTP. Please retry.","error","small",5e3)};o?(e.activeLoader=e.loader.OTPViaCall,e.otpSentVia=r):(e.activeLoader=e.loader.resentOTP,e.otpSentVia=l);var f={mobile:"91"+e.student.mobile,onCall:!!o};t.updateMobile(f,n,s)},e.verifyOTP=function(i){var n=function(t){e.activeLoader="",o.$broadcast(MOBILE_SUCCESSFULLY_VERIFIED,{mobile:e.student.mobile}),forceSessionRefresh()},a=function(t){e.activeLoader="",showAlert(t&&t.message||"Failed to verify otp. Please retry!","error","small",5e3)};e.activeLoader=e.loader.verifyOTP;var r={otp:i};t.verifyOtp(r,n,a)};var f=function(t){t&&t.data&&(t.data.mobileVerified?(e.student.mobile=t.data.mobileVerified.slice(2),s=t.data.mobileVerified.slice(2)):e.student.mobile=t.data.mobile?t.data.mobile.slice(2):"")},u=function(){e.student.mobile=e.mobile?12===e.mobile.length?e.mobile.slice(2):e.mobile:"",e.isOTPSent&&e.mobile?d(1e3,a,m):e.mobile||(e.isOTPSent=!1,TB.GetStudentFromStorage(f))};u()}angular.module("mobileVerification",["Testbook"]).directive("verifyMobile",e)}();
!function(){function e(){return{restrict:"E",scope:{},templateUrl:"/views/partials/components/pricing-modal.html",controller:["$scope","TB","$rootScope",t],controllerAs:"tbPP"}}function t(e,t,i){var s="#tbPricingModal",o="OPEN_PP_MODAL",n="CLOSE_PP_MODAL",r="openRazorpayPrompt",d="TB_PASS_ARR",c="STU_PASS_LOADED",l="MOBILE_VERIFIED_SUCCESSFULLY",u=this,b={},P=[],m={},f=[],v={};u.stuObjUI={isMobileVerified:!0,mobileNumber:null},u.selectedCardObj={id:""},u.tbPassClicked=function(e){a.INITIATE_PAYMENT_SOURCE=a.INITIATE_PAYMENT_VALUES.PRICING_POPUP,u.selectedCardObj=getDuplicateObject(e),u.isSelectedPass=!0},u.continueForMobileVerification=function(e){e?($("#tab_tb_pass").addClass("active"),$("#tab_mobile_verification").removeClass("active"),$("#tb-pass-options").addClass("active"),$("#tb-pass-mobile-verification").removeClass("active")):($("#tab_tb_pass").removeClass("active"),$("#tab_mobile_verification").addClass("active"),$("#tb-pass-options").removeClass("active"),$("#tb-pass-mobile-verification").addClass("active"))},u.makePaymentBtnClicked=function(e){p(e)};var p=function(e){var a=function(t){t&&t.success&&t.data&&(b.pid=e,b.data=t.data||{},b.csCourseIds=P.join(),i.$broadcast("openRazorpayPrompt",b),$(s).modal("hide"))},o=function(e){$(s).modal("hide")},n={pg:0,products:e};t.manageTransactions(n,a,o)};u.isSelectedPass=!1,u.tbPassUIObj={};var I={studentPass:!1,tbPass:!1},y=function(){I.studentPass&&I.tbPass&&(u.tbPassUIObj=D(f,v))},D=function(e,t){var a={},i={},s=864e11,o=function(e,t){var a=getDaysDiff(new Date(e),new Date(t)),i=getHoursDiff(new Date(e),new Date(t));return a>1?a>1?a.toString()+" days":a.toString()+" day":i>1?i.toString()+" hours":i.toString()+" hour"};i.isExpired=t.isExpired,i.isInRenewState=t.isInRenewState,isValidDate(t.curPass.expiry)?(i.isPassActive=!i.isExpired,i.hasPurchasedPass=!0,i.expiryDate=new Date(t.curPass.expiry)):(i.hasPurchasedPass=!1,i.isPassActive=!1),i.timeStr=o(t.curPass.expiry,t.curTime),i.tbPassArr=[],e=validateArr(e);for(var n=0;n<e.length;n++)a={id:e[n]._id||"",cost:e[n].cost||0,colorHex:"#"+(e[n].colorHex||"1fbad6"),backgroundColor:convertHexColor(e[n].colorHex||"1fbad6",30),oldCost:e[n].oldCost||0,title:e[n].title||"",isRecommended:!!e[n].isRecommended,validityInDays:Number(e[n].validity/s)},a.discountPercentage=a.oldCost?100*(a.oldCost-a.cost)/a.oldCost:0,a.isShowDiscountText=!!a.oldCost,a.validityInNumber=a.validityInDays>360?Number(a.validityInDays/360):Number(a.validityInDays/30),a.validityUnit=a.validityInDays>360?Number(a.validityInDays/360)>1?"years":"year":Number(a.validityInDays/30)>1?"months":"month",i.tbPassArr.push(a);return i},_=function(){var e=function(e,t){return isValidDate(e)&&new Date(t).getTime()>new Date(e).getTime()},a=function(e,t,a){return isValidDate(e)&&new Date(e).getTime()-new Date(t).getTime()>0&&new Date(e).getTime()-new Date(t).getTime()<=MS_IN_ONE_DAY*a},i=function(t){t&&t.success&&t.data&&(I.studentPass=!0,t.data.isExpired=e(t.data.curPass.expiry,t.data.curTime),t.data.isInRenewState=a(t.data.curPass.expiry,t.data.curTime,t.data.tbpassNotifyExpiry),t.data.hasPurchasedPass=isValidDate(new Date(t.data.curPass.expiry)),v=t.data,y())},s=function(e){};t.getStudentPass({},i,s)},g=function(e){if(e.length){var t=e[0].categoryObj.sortOrder,a=e[0].categoryObj.sort;if(e[0][a])return sortFunction(e,a,"date",t)}return e},T=function(){var e=function(e){e&&e.success&&(f=g(e.data.tbPasses||[]),I.tbPass=!0,y())},a=function(e){};t.getTBPasses(e,a)},C=function(){I.tbPass&&f.length||T()},S=function(){I.studentPass&&v&&Object.keys(v).length||_()};u.openRazorpayModal=function(){i.$broadcast(r,b)},u.closePPModal=function(){$(s).modal("hide"),u.selectedCardObj={id:""},u.isSelectedPass=!1,$('input[name="tb-radio"]').prop("checked",!1),u.continueForMobileVerification(!0)},e.$on(d,function(e,t){f=t.data,I.tbPass=!0,y()}),e.$on(c,function(e,t){v=t.data,I.studentPass=!0,y()}),e.$on(o,function(e,t){u.selectedCardObj={id:""},u.isSelectedPass=!1,C(),S(),$(s).modal("show")}),e.$on(n,function(e,t){u.closePPModal()}),e.$on(l,function(e,t){t.mobile&&a.INITIATE_PAYMENT_SOURCE===a.INITIATE_PAYMENT_VALUES.PRICING_POPUP&&(a.INITIATE_PAYMENT_SOURCE="",u.stuObjUI.isMobileVerified=!0,u.stuObjUI.mobileNumber=t.mobile||"",p(u.selectedCardObj.id))});var E=function(){if(isLoggedIn()){var e=function(e){m=e&&e.data||{},u.stuObjUI.isMobileVerified=!!m.mobileVerified,u.stuObjUI.mobileNumber=!!m.mobileVerified&&Number(m.mobileVerified)||null};a.GetStudentFromStorage(e)}};E()}var a=TB||{};angular.module("PricingModal",["mobileVerification","Testbook","TBPayment"]).directive("pricingModalDirective",e)}();
!function(){function t(t,e,o,n){t.compName="Testbook";var r=$("#stuname")&&$("#stuname").val()||"TB_Anon",i=$("#email")&&$("#email").val()||"tb_anon@testbook.com",s=$("#mobile")&&$("#mobile").val()&&$("#mobile").val().slice(2)||"9876543210",l="razorpay_payment_id",d="razorpay_order_id",c="razorpay_signature",m="",p=$("#cur-course-id")&&$("#cur-course-id").val()||"";t.paytmObj={otp:"",data:{mobile:""},description:""},t.isOpenPaytmErrorBox=!1,t.txnId="";var u=function(){t.isEnterOtpView=!1,t.isFailedAttempt=!1,t.isLoading=!1,t.statusText="Sending OTP to "+s},y=function(t,a,e){dataLayer.push({txnId:t,productIds:a.pid,productName:a.name,subtotal:a.cost,page:e}),n(function(){"undefined"!=typeof dataLayer?(dataLayer.push({event:"transacted"}),console.log("data-layer called with argument {'event': 'api.cb'}")):console.log("data-layer does not exist")},500)},g=function(t,a){if(t){var o={courses:t},n=function(){forceSessionRefresh();var t={txnId:a,dlObj:h,pathName:window.location&&window.location.pathname||""};setCookie("tb_txnid",JSON.stringify(t)),window.location.reload()},r=function(t){if(t&&t.message&&""!==t.message){showAlert(t.message,"error","small",3e3);var e={txnId:a,dlObj:h,pathName:window.location&&window.location.pathname||""};setCookie("tb_txnid",JSON.stringify(e)),window.location.reload()}else showAlert("Please check your internet connection or contact at support@testbook.com","error","large",5e3)};e.enrollInCourse(o,n,r)}else{forceSessionRefresh();var i={txnId:a,dlObj:h,pathName:window.location&&window.location.pathname||""};setCookie("tb_txnid",JSON.stringify(i)),window.location.reload()}},f=function(t){for(var a=p.split(","),e=0;e<t.length;e++)t[e].course&&a.indexOf(t[e].course.id)!==-1&&a.splice(a.indexOf(t[e].course.id),1);p=a.join(",")},w=function(t){if(t.hasOwnProperty("message"))showAlert(t.message||"Something went wrong please contact at support@testbook.com","error","small",5e3);else{var a=t.data||{};f(a.enrollments||[])}},h={};t.$on("openRazorpayPrompt",function(t,e){e.data.hasOwnProperty("url")?window?window.location.href=e.data.url:showAlert("Please refresh the page to see your tests","error","small",5e3):(a.GetStudentFromStorage(w),h.pid=e.pid||"",h.cost=(e.data&&e.data.razorpayClientParams&&e.data.razorpayClientParams.amount||0)/100,h.name=e.data&&e.data.razorpayClientParams&&e.data.razorpayClientParams.name||"",x(e))});var b=function(t){g(p,t)},O=function(t){t.isMobile=!1;var a=function(t){t&&t.data?b(t.data.transaction||""):showAlert(t&&t.message||"Something went wrong.","danger","large",5e3)},o=function(t){showAlert("Something went wrong!","danger","small",2e3)};e.razorPayCaptureCheckout(t,a,o)},P=function(){t.statusText="Waiting for payment confirmation.";var a=function(a){a&&a.data?b(a.data.transaction):(t.closePayTMModal(),showAlert(a&&a.message||"Something went wrong.","danger","large",5e3))},o=function(a){t.closePayTMModal(),showAlert(a&&a.message||"Something went wrong.","danger","large",5e3)};T.pg=2,e.manageTransactions(T,a,o)};t.verifyOtpForPaytm=function(){t.isLoading=!0,t.statusText="Verifying OTP",t.isEnterOtpView=!1;var a=function(a){if(a&&a.success&&a.data){var e=a.data.balance||0;e>=t.paytmObj.data.amount/100?P():(t.statusText="Balance : "+e,t.isFailedAttempt=!0)}},o=function(a){t.statusText="Entered OTP was incorrect. Re-enter to proceed.",t.paytmObj.otp="",t.isLoading=!1,t.isEnterOtpView=!0},n={otp:t.paytmObj.otp};e.verifyOtpForPaytm(n,a,o)},t.hidePaytmShowRazorpay=function(){$(".razorpay-container").css("display","block"),$("#seamlessPaytm").modal("hide")},t.otpInputFocused=!1,t.otpInputFilled=!1,t.validateOtpLength=function(){t.paytmObj.otp?0==t.paytmObj.otp.length?t.otpInputFilled=!1:t.paytmObj.otp.length>0?t.otpInputFilled=!0:6==t.paytmObj.otp.length&&$(".otp").blur():t.otpInputFilled=!1},t.closePayTMModal=function(){$("#seamlessPaytm").addClass("fade").modal("hide").on("hidden.bs.modal",function(){$(this).removeClass("fade")}),$(".razorpay-container").css("display","none"),v()},t.genOtpForPaytm=function(){t.paytmObj.otp="",t.isEnterOtpView=!1,t.isLoading=!0,t.statusText="Sending OTP to "+t.paytmObj.data.mobile,t.isOpenPaytmErrorBox=!1;var a=function(a){a&&a.data&&(t.isLoading=!1,t.isEnterOtpView=!0,t.statusText="An OTP has been sent on "+t.paytmObj.data.mobile)},o=function(a){t.isOpenPaytmErrorBox=!0,a||showAlert("Please check your internet connection.","error","small",2e3)};e.genOtpForPaytm({mobile:t.paytmObj.data.mobile},a,o)};var v=function(){var t={};t[d]=m,t[l]="",t[c]="";var a=function(t){t&&t.data},o=function(t){t?t.hasOwnProperty("message")?showAlert(t.message,"error","small",2e3):showAlert("Something went wrong!","error","small",2e3):showAlert("Please check your internet connection.","error","small",2e3)};$("body").css("overflow","auto"),e.razorPayCaptureCheckout(t,a,o)},T={},x=function(a){T={products:a.pid||""},T.txnId=a.data.transaction||"";var e=a.data.razorpayClientParams||{};m=e.order_id||"",t.paytmObj.description=e.description;var o={key:e.key||"",amount:e.amount||0,name:e.name||"",description:e.description||"",image:"/assets/img/brand/logo-small.png",handler:function(t){O(t||{})},order_id:e.order_id||"",prefill:{name:r,email:i,contact:s},theme:{color:"#16d4d9"},external:{wallets:["paytm"],handler:function(a){t.paytmObj.data=a||{},t.paytmObj.data.mobile=a.contact||"9876543210",$("#seamlessPaytm").modal("show"),$(".razorpay-container").css("display","none"),u(),t.genOtpForPaytm()}},modal:{ondismiss:function(){v()},escape:!1}},n=new Razorpay(o);n.open()},I=function(){var a={};if(getCookie(TXN_ID))try{a=JSON.parse(getCookie(TXN_ID)),t.txnId=a.txnId,y(a.txnId,a.dlObj,a.pathName),$("#tbTransactionCard").modal("show"),setCookie(TXN_ID,1,-1),IS_INVOICE_GENERATED=!0}catch(e){console.log("Some parsing issue: ",e)}};I()}var a=TB||{};angular.module("TBPayment",["Testbook"]).controller("paymentCtrl",["$scope","TB","$sce","$timeout",t])}();
!function(){function a(a){a.prev().addClass("top-card"),a.addClass("swipe-card-right"),setTimeout(function(){a.prev().addClass("active").removeClass("top-card"),a.removeClass("active swipe-card-right")},1e3);var s=a.attr("data-card-t"),t=$('.js-card-specific-scroll span[data-each-id="'+s+'"]');t.removeClass("active"),t.prev().addClass("active")}function s(a){a.next().addClass("top-card"),a.addClass("swipe-card-left"),setTimeout(function(){a.next().addClass("active").removeClass("top-card"),a.removeClass("active swipe-card-left")},1e3);var s=a.attr("data-card-t"),t=$('.js-card-specific-scroll span[data-each-id="'+s+'"]');t.removeClass("active"),t.next().addClass("active")}function t(a){c=$(".js-testimonials .each"),c.first().addClass("top-card"),a.addClass("swipe-card-left"),setTimeout(function(){c.first().addClass("active").removeClass("top-card"),a.removeClass("active swipe-card-left")},1e3);var s=a.attr("data-card-t");$('.js-card-specific-scroll span[data-each-id="'+s+'"]').removeClass("active"),$(".js-card-specific-scroll span:first-child").addClass("active")}function e(a){c=$(".js-testimonials .each"),c.last().addClass("top-card"),a.addClass("swipe-card-right"),setTimeout(function(){c.last().addClass("active").removeClass("top-card"),a.removeClass("active swipe-card-right")},1e3);var s=a.attr("data-card-t");$('.js-card-specific-scroll span[data-each-id="'+s+'"]').removeClass("active"),$(".js-card-specific-scroll span:last-child").addClass("active")}var c=$(".js-testimonials .each"),i=setInterval(function(){var a=$(".js-testimonials .active"),e=$(".js-testimonials .each:last-child");e.hasClass("active")?t(a):s(a)},1e4);$(document).on("click",".js-card-scroll",function(){var c=$(this).attr("data-scroll"),d=$(".js-testimonials .active");$(".js-card-scroll").attr("disabled","disabled"),setTimeout(function(){$(".js-card-scroll").removeAttr("disabled")},1e3),"left"==c&&d.is(":not(:first-child)")?a(d):"left"==c&&d.is(":first-child")&&e(d),"right"==c&&d.is(":not(:last-child)")?s(d):"right"==c&&d.is(":last-child")&&t(d),window.clearInterval(i)}),$(document).on("click",".js-card-specific-scroll span",function(){var a,s=$(this).attr("data-each-id"),t=$('.js-testimonials .each[data-card-t="'+s+'"]'),e=$(".js-testimonials .active"),c=e.attr("data-card-t");a=s<c?"swipe-card-right":"swipe-card-left",$(".js-card-specific-scroll span").removeClass("active").attr("disabled","disabled"),$(this).addClass("active"),t.addClass("top-card"),e.addClass(a),setTimeout(function(){t.addClass("active").removeClass("top-card"),e.removeClass("active "+a),$(".js-card-specific-scroll span").removeAttr("disabled")},1e3),window.clearInterval(i)})}();